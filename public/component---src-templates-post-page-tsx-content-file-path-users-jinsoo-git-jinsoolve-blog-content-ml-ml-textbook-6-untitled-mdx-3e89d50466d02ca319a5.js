"use strict";(self.webpackChunkjinsoolve_blog=self.webpackChunkjinsoolve_blog||[]).push([[8409],{68412:function(e,t,a){a.r(t),a.d(t,{Head:function(){return R},default:function(){return C}});var n=a(28453),l=a(96540);function m(e){const t=Object.assign({blockquote:"blockquote",p:"p",strong:"strong",br:"br",h1:"h1",a:"a",span:"span",h2:"h2",ol:"ol",li:"li",math:"math",semantics:"semantics",mrow:"mrow",msub:"msub",mi:"mi",mo:"mo",mfrac:"mfrac",mn:"mn",msubsup:"msubsup",annotation:"annotation",h3:"h3",pre:"pre",code:"code",mtext:"mtext",ul:"ul",img:"img",msup:"msup",del:"del"},(0,n.RP)(),e.components);return l.createElement(l.Fragment,null,l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,"이 글은 ",l.createElement(t.strong,null,"머신러닝 교과서 with 파이썬, 사이킷런, 텐서플로"),"의 5장 내용을 기반으로 작성되었다."),"\n"),"\n",l.createElement(t.p,null,"차원 축소를 하는 이유는 다양하다. 저장 공간을 줄이고 계산 효율을 높이고, 차원의 저주 문제를 감소시키는 등의 역할을 한다. 또한 중요한 특성만을 추출하여 변환 및 투영을 하면 성능이 올라가는 경우가 많다."),"\n",l.createElement(t.p,null,"차원 선택이 원본 특성을 중요도에 따라 선택한다면,",l.createElement(t.br),"\n","차원 추출은 새로운 특성 공간으로 데이터를 변환하거나 투영한다."),"\n",l.createElement(t.h1,{id:"my-heading-1"},"5.1 PCA",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-1"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.p,null,"PCA는 주성분 분석을 통해서 비지도 데이터를 선형으로 차원 축소하는 기법이다.",l.createElement(t.br),"\n","PCA는 작은 차원으로 축소시키는 과정이며 이때 주성분을 선택해야 한다. 주성분은 모든 주성분들이 서로 직교한다는(=상관관계가 없다) 가정 하에 가장 큰 분산을 갖도록 선택한다."),"\n",l.createElement(t.h2,{id:"my-heading-2"},"5.1.1 PCA 과정",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-2"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.p,null,"d차원 -> k차원으로의 PCA의 과정은 다음과 같다."),"\n",l.createElement(t.ol,null,"\n",l.createElement(t.li,null,"d차원 원본 데이터 표준화"),"\n",l.createElement(t.li,null,"공분산 행렬 생성",l.createElement(t.br),"\n","공분산 행렬이란, 두 특성 간의 상관관계를 뜻한다.",l.createElement(t.br),"\n","수식은 다음과 같다.",l.createElement(t.br),"\n",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.msub,null,l.createElement(t.mi,null,"σ"),l.createElement(t.mrow,null,l.createElement(t.mi,null,"j"),l.createElement(t.mi,null,"k"))),l.createElement(t.mo,null,"="),l.createElement(t.mfrac,null,l.createElement(t.mn,null,"1"),l.createElement(t.mrow,null,l.createElement(t.mi,null,"n"),l.createElement(t.mo,null,"−"),l.createElement(t.mn,null,"1"))),l.createElement(t.msubsup,null,l.createElement(t.mo,null,"∑"),l.createElement(t.mrow,null,l.createElement(t.mi,null,"i"),l.createElement(t.mo,null,"="),l.createElement(t.mn,null,"1")),l.createElement(t.mi,null,"n")),l.createElement(t.mo,{stretchy:"false"},"("),l.createElement(t.msubsup,null,l.createElement(t.mi,null,"x"),l.createElement(t.mi,null,"j"),l.createElement(t.mrow,null,l.createElement(t.mo,{stretchy:"false"},"("),l.createElement(t.mi,null,"i"),l.createElement(t.mo,{stretchy:"false"},")"))),l.createElement(t.mo,null,"−"),l.createElement(t.msub,null,l.createElement(t.mi,null,"μ"),l.createElement(t.mi,null,"j")),l.createElement(t.mo,{stretchy:"false"},")"),l.createElement(t.mo,{stretchy:"false"},"("),l.createElement(t.msubsup,null,l.createElement(t.mi,null,"x"),l.createElement(t.mi,null,"k"),l.createElement(t.mrow,null,l.createElement(t.mo,{stretchy:"false"},"("),l.createElement(t.mi,null,"i"),l.createElement(t.mo,{stretchy:"false"},")"))),l.createElement(t.mo,null,"−"),l.createElement(t.msub,null,l.createElement(t.mi,null,"μ"),l.createElement(t.mi,null,"j")),l.createElement(t.mo,{stretchy:"false"},")")),l.createElement(t.annotation,{encoding:"application/x-tex"},"\\sigma_{jk} = \\frac{1}{n-1}\\sum_{i=1}^n(x_j^{(i)} - \\mu_j)(x_k^{(i)} - \\mu_j)")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.7167em",verticalAlign:"-0.2861em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"σ"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3361em"}},l.createElement(t.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"jk"))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.2861em"}},l.createElement(t.span)))))),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2778em"}}),l.createElement(t.span,{className:"mrel"},"="),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2778em"}})),l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1.4578em",verticalAlign:"-0.413em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mopen nulldelimiter"}),l.createElement(t.span,{className:"mfrac"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.8451em"}},l.createElement(t.span,{style:{top:"-2.655em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"n"),l.createElement(t.span,{className:"mbin mtight"},"−"),l.createElement(t.span,{className:"mord mtight"},"1")))),l.createElement(t.span,{style:{top:"-3.23em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),l.createElement(t.span,{style:{top:"-3.394em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mtight"},"1"))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.4033em"}},l.createElement(t.span))))),l.createElement(t.span,{className:"mclose nulldelimiter"})),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.1667em"}}),l.createElement(t.span,{className:"mop"},l.createElement(t.span,{className:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"∑"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.8043em"}},l.createElement(t.span,{style:{top:"-2.4003em",marginLeft:"0em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"i"),l.createElement(t.span,{className:"mrel mtight"},"="),l.createElement(t.span,{className:"mord mtight"},"1")))),l.createElement(t.span,{style:{top:"-3.2029em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"n")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.2997em"}},l.createElement(t.span)))))),l.createElement(t.span,{className:"mopen"},"("),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal"},"x"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"1.0448em"}},l.createElement(t.span,{style:{top:"-2.4231em",marginLeft:"0em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"))),l.createElement(t.span,{style:{top:"-3.2198em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mopen mtight"},"("),l.createElement(t.span,{className:"mord mathnormal mtight"},"i"),l.createElement(t.span,{className:"mclose mtight"},")"))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.413em"}},l.createElement(t.span)))))),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2222em"}}),l.createElement(t.span,{className:"mbin"},"−"),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2222em"}})),l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1.3461em",verticalAlign:"-0.3013em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal"},"μ"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3117em"}},l.createElement(t.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.2861em"}},l.createElement(t.span)))))),l.createElement(t.span,{className:"mclose"},")"),l.createElement(t.span,{className:"mopen"},"("),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal"},"x"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"1.0448em"}},l.createElement(t.span,{style:{top:"-2.3987em",marginLeft:"0em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k"))),l.createElement(t.span,{style:{top:"-3.2198em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mopen mtight"},"("),l.createElement(t.span,{className:"mord mathnormal mtight"},"i"),l.createElement(t.span,{className:"mclose mtight"},")"))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3013em"}},l.createElement(t.span)))))),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2222em"}}),l.createElement(t.span,{className:"mbin"},"−"),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2222em"}})),l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1.0361em",verticalAlign:"-0.2861em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal"},"μ"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3117em"}},l.createElement(t.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.2861em"}},l.createElement(t.span)))))),l.createElement(t.span,{className:"mclose"},")"))))),l.createElement(t.br),"\n","여기서 공분산 행렬의 shape은  [d,d]인 square matrix이다."),"\n",l.createElement(t.li,null,"공분산 행렬을 고유값, 고유벡터로 분해",l.createElement(t.br),"\n","고유값은 상수, 고유벡터는 행렬인데 공분산 행렬을 고유값과 고유벡터의 곱으로 나타내는 것이다.",l.createElement(t.br),"\n","고유값, 고유벡터에 대한 정의는 복잡하고 재미도 없으니 넘어가자"),"\n",l.createElement(t.li,null,"고유값을 내림차순으로 정렬 후 가장 높은 k개 선택"),"\n",l.createElement(t.li,null,"선택한 k개 고유벡터로 투영행열 W 생성"),"\n",l.createElement(t.li,null,"투영행렬 W를 이용해 원본 데이터를 k차원의 새로운 데이터 차원으로 변환"),"\n"),"\n",l.createElement(t.h2,{id:"my-heading-3"},"5.1.2 PCA 구현 코드",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-3"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.h3,{id:"my-heading-4"},"5.1.2.1 직접 구현",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-4"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-py"},"# 데이터 표준화\nfrom sklearn.preprocessing import StandardScaler\n\nsc = StandardScaler()\nX_train_std = sc.fit_transform(X_train)\nX_test_std = sc.transform(X_test)\n\n# 공분산 구하고 공분산의 고유값, 고유벡터를 구한다.\nimport numpy as np\ncov_mat = np.cov(X_train_std.T)\neigen_vals, eigen_vecs = np.linalg.eig(cov_mat)\n\n# (고윳값, 고유벡터) 튜플의 리스트를 만듭니다\neigen_pairs = [(np.abs(eigen_vals[i]), eigen_vecs[:, i])\n               for i in range(len(eigen_vals))]\n               \n# 높은 값에서 낮은 값으로 (고윳값, 고유벡터) 튜플을 정렬합니다\neigen_pairs.sort(key=lambda k: k[0], reverse=True)\n\n# 여기서는 2개의 특성을 골라서 수평으로 쌓아서 투영행렬 w를 구한다.\nw = np.hstack((eigen_pairs[0][1][:, np.newaxis],\n               eigen_pairs[1][1][:, np.newaxis]))\n               \n# 투영행렬 w를 이용해 pca로 차원축소 시키다.\nX_train_pca = X_train_std.dot(w)\n")),"\n",l.createElement(t.h3,{id:"my-heading-5"},"5.1.2.2 사이킷런 구현",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-5"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-py"},"from sklearn.decomposition import PCA\n\n# 여기서도 데이터를 표준화시켜야 한다.\n# X_train_std는 표준화된 데이터다.\n\npca = PCA()\nX_train_pca = pca.fit_transform(X_train_std)\n")),"\n",l.createElement(t.p,null,"PCA( n_componets=[0~1사이의 값] ) 매게변수를 줄 수 있는데 이는 설명된 분산의 비율을 지정해준 값에 맞게 주성분 개수를 선택한다."),"\n",l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,"여기서 말하는 (설명된 분산 비율) = ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mfrac,null,l.createElement(t.mrow,null,l.createElement(t.mo,{stretchy:"false"},"("),l.createElement(t.mtext,null,"해당"),l.createElement(t.mtext,null," "),l.createElement(t.mtext,null,"주성분"),l.createElement(t.mtext,null," "),l.createElement(t.mtext,null,"분산"),l.createElement(t.mo,{stretchy:"false"},")")),l.createElement(t.mrow,null,l.createElement(t.mo,{stretchy:"false"},"("),l.createElement(t.mtext,null,"모든"),l.createElement(t.mtext,null," "),l.createElement(t.mtext,null,"주성분의"),l.createElement(t.mtext,null," "),l.createElement(t.mtext,null,"분산"),l.createElement(t.mtext,null," "),l.createElement(t.mtext,null,"합"),l.createElement(t.mo,{stretchy:"false"},")")))),l.createElement(t.annotation,{encoding:"application/x-tex"},"\\frac{(해당 \\,주성분 \\, 분산)}{(모든 \\,주성분의 \\,분산 \\,합)}")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1.53em",verticalAlign:"-0.52em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mopen nulldelimiter"}),l.createElement(t.span,{className:"mfrac"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"1.01em"}},l.createElement(t.span,{style:{top:"-2.655em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mopen mtight"},"("),l.createElement(t.span,{className:"mord hangul_fallback mtight"},"모든"),l.createElement(t.span,{className:"mspace mtight",style:{marginRight:"0.1952em"}}),l.createElement(t.span,{className:"mord hangul_fallback mtight"},"주성분의"),l.createElement(t.span,{className:"mspace mtight",style:{marginRight:"0.1952em"}}),l.createElement(t.span,{className:"mord hangul_fallback mtight"},"분산"),l.createElement(t.span,{className:"mspace mtight",style:{marginRight:"0.1952em"}}),l.createElement(t.span,{className:"mord hangul_fallback mtight"},"합"),l.createElement(t.span,{className:"mclose mtight"},")")))),l.createElement(t.span,{style:{top:"-3.23em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),l.createElement(t.span,{style:{top:"-3.485em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mopen mtight"},"("),l.createElement(t.span,{className:"mord hangul_fallback mtight"},"해당"),l.createElement(t.span,{className:"mspace mtight",style:{marginRight:"0.1952em"}}),l.createElement(t.span,{className:"mord hangul_fallback mtight"},"주성분"),l.createElement(t.span,{className:"mspace mtight",style:{marginRight:"0.1952em"}}),l.createElement(t.span,{className:"mord hangul_fallback mtight"},"분산"),l.createElement(t.span,{className:"mclose mtight"},")"))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.52em"}},l.createElement(t.span))))),l.createElement(t.span,{className:"mclose nulldelimiter"}))))))," 이다.",l.createElement(t.br),"\n","예를 들어 정렬된 주성분의 설명된 분산 비율이 차례로 0.4, 0.3, 0.2, 0.1 일때",l.createElement(t.br),"\n","n_components = 0.9이라면 [0.4, 0.3, 0.2]인 주성분을 선택한다."),"\n"),"\n",l.createElement(t.h1,{id:"my-heading-6"},"5.2 LDA",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-6"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.p,null,"LDA는 지도 데이터를 선형으로 차원 축소하는 기법이다."),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"PCA가 전체 데이터의 분산이 최대가 되도록 주성분을 설정한다고 한다면,"),"\n",l.createElement(t.li,null,"LDA는 클래스 간 분산(between-class variance)과 클래스 내 분산(within-class variance)을 최대화하고 최소화하려고 노력한다.",l.createElement(t.br),"\n","이렇게 하면 서로 다른 클래스 간의 거리가 최대화되며, 같은 클래스 내의 데이터 포인트 간의 거리는 최소화된다.",l.createElement(t.br),"\n",l.createElement(t.img,{src:"https://velog.velcdn.com/images/jinsoolve/post/47fe810f-fd31-4093-9734-9fc0ef5f3529/image.png",alt:""})),"\n"),"\n",l.createElement(t.p,null,"참고로 LDA가 좀 더 분류에 최적화되어 있다고 한다.",l.createElement(t.br),"\n","그럼 이제 LDA의 과정과 구현을 알아보자."),"\n",l.createElement(t.h2,{id:"my-heading-7"},"5.2.1 LDA 과정",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-7"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.p,null,"d차원의 원본데이터를 k차원의 데이터로 LDA 차원축소한다고 하자."),"\n",l.createElement(t.ol,null,"\n",l.createElement(t.li,null,"원본 데이터 표준화"),"\n",l.createElement(t.li,null,"각 클래스에 대해 d차원의(=특성 d개에 대한) 평균벡터 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"m")),l.createElement(t.annotation,{encoding:"application/x-tex"},"m")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.4306em"}}),l.createElement(t.span,{className:"mord mathnormal"},"m")))))," 계산"),"\n",l.createElement(t.li,null,"클래스 간 산포행렬 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.msub,null,l.createElement(t.mi,null,"S"),l.createElement(t.mi,null,"b"))),l.createElement(t.annotation,{encoding:"application/x-tex"},"S_b")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3361em"}},l.createElement(t.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"b")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.15em"}},l.createElement(t.span)))))))))),"와 클래스 내 산포행렬 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.msub,null,l.createElement(t.mi,null,"S"),l.createElement(t.mi,null,"w"))),l.createElement(t.annotation,{encoding:"application/x-tex"},"S_w")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.1514em"}},l.createElement(t.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02691em"}},"w")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.15em"}},l.createElement(t.span)))))))))),"를 계산",l.createElement(t.br),"\n","산포행렬이란 데이터들 간의 분산과 공분산을 나타내는다. 이를 통해 데이터 분포를 알 수 있다.",l.createElement(t.br),"\n","수식은 다음과 같다.",l.createElement(t.br),"\n",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.msub,null,l.createElement(t.mi,null,"S"),l.createElement(t.mi,null,"i")),l.createElement(t.mo,null,"="),l.createElement(t.msub,null,l.createElement(t.mo,null,"∑"),l.createElement(t.mrow,null,l.createElement(t.mi,null,"x"),l.createElement(t.mo,null,"∈"),l.createElement(t.msub,null,l.createElement(t.mi,null,"D"),l.createElement(t.mi,null,"i")))),l.createElement(t.mo,{stretchy:"false"},"("),l.createElement(t.mi,null,"x"),l.createElement(t.mo,null,"−"),l.createElement(t.msub,null,l.createElement(t.mi,null,"m"),l.createElement(t.mi,null,"i")),l.createElement(t.msup,null,l.createElement(t.mo,{stretchy:"false"},")"),l.createElement(t.mi,null,"T")),l.createElement(t.mo,{stretchy:"false"},"("),l.createElement(t.mi,null,"x"),l.createElement(t.mo,null,"−"),l.createElement(t.msub,null,l.createElement(t.mi,null,"m"),l.createElement(t.mi,null,"i")),l.createElement(t.mo,{stretchy:"false"},")")),l.createElement(t.annotation,{encoding:"application/x-tex"},"S_i = \\sum_{x \\in D_i}(x-m_i)^T(x-m_i)")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3117em"}},l.createElement(t.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"i")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.15em"}},l.createElement(t.span)))))),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2778em"}}),l.createElement(t.span,{className:"mrel"},"="),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2778em"}})),l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1.1498em",verticalAlign:"-0.3998em"}}),l.createElement(t.span,{className:"mop"},l.createElement(t.span,{className:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"∑"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.1786em"}},l.createElement(t.span,{style:{top:"-2.4003em",marginLeft:"0em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"x"),l.createElement(t.span,{className:"mrel mtight"},"∈"),l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"D"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3281em"}},l.createElement(t.span,{style:{top:"-2.357em",marginLeft:"-0.0278em",marginRight:"0.0714em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.5em"}}),l.createElement(t.span,{className:"sizing reset-size3 size1 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"i")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.143em"}},l.createElement(t.span)))))))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3998em"}},l.createElement(t.span)))))),l.createElement(t.span,{className:"mopen"},"("),l.createElement(t.span,{className:"mord mathnormal"},"x"),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2222em"}}),l.createElement(t.span,{className:"mbin"},"−"),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2222em"}})),l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1.0913em",verticalAlign:"-0.25em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal"},"m"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3117em"}},l.createElement(t.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"i")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.15em"}},l.createElement(t.span)))))),l.createElement(t.span,{className:"mclose"},l.createElement(t.span,{className:"mclose"},")"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.8413em"}},l.createElement(t.span,{style:{top:"-3.063em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))))))),l.createElement(t.span,{className:"mopen"},"("),l.createElement(t.span,{className:"mord mathnormal"},"x"),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2222em"}}),l.createElement(t.span,{className:"mbin"},"−"),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2222em"}})),l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal"},"m"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3117em"}},l.createElement(t.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"i")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.15em"}},l.createElement(t.span)))))),l.createElement(t.span,{className:"mclose"},")"))))),", (여기서 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.msub,null,l.createElement(t.mi,null,"m"),l.createElement(t.mi,null,"i"))),l.createElement(t.annotation,{encoding:"application/x-tex"},"m_i")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal"},"m"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3117em"}},l.createElement(t.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"i")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.15em"}},l.createElement(t.span)))))))))),"는 평균벡터다.)"),"\n",l.createElement(t.li,null,l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.msubsup,null,l.createElement(t.mi,null,"S"),l.createElement(t.mi,null,"w"),l.createElement(t.mrow,null,l.createElement(t.mo,null,"−"),l.createElement(t.mn,null,"1"))),l.createElement(t.msub,null,l.createElement(t.mi,null,"S"),l.createElement(t.mi,null,"b"))),l.createElement(t.annotation,{encoding:"application/x-tex"},"S_w^{-1}S_b")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1.0611em",verticalAlign:"-0.247em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.8141em"}},l.createElement(t.span,{style:{top:"-2.453em",marginLeft:"-0.0576em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02691em"}},"w"))),l.createElement(t.span,{style:{top:"-3.063em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mtight"},"−"),l.createElement(t.span,{className:"mord mtight"},"1"))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.247em"}},l.createElement(t.span)))))),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3361em"}},l.createElement(t.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"b")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.15em"}},l.createElement(t.span))))))))))," 행렬의 고유값, 고유벡터 계산"),"\n",l.createElement(t.li,null,"고유값 내림차순 정렬하여 가장 큰 k개의 고유벡터를 선택"),"\n",l.createElement(t.li,null,"선택한 k개의 고유벡터로 변환 행렬 W 생성",l.createElement(t.br),"\n","여기서 W의 각 열이 고유벡터가 된다. 즉 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"d"),l.createElement(t.mo,null,"×"),l.createElement(t.mi,null,"k")),l.createElement(t.annotation,{encoding:"application/x-tex"},"d \\times k")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.7778em",verticalAlign:"-0.0833em"}}),l.createElement(t.span,{className:"mord mathnormal"},"d"),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2222em"}}),l.createElement(t.span,{className:"mbin"},"×"),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2222em"}})),l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.6944em"}}),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k")))))," 차원이다."),"\n",l.createElement(t.li,null,"변환 행렬 W로 원본 데이터 차원 축소"),"\n"),"\n",l.createElement(t.h2,{id:"my-heading-8"},"5.2.2 LDA 구현",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-8"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.h3,{id:"my-heading-9"},"5.2.2.1 직접 구현",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-9"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-py"},"# 평균 벡터 구하기\nmean_vecs = []\nfor label in range(1, 4):\n    mean_vecs.append(np.mean(X_train_std[y_train == label], axis=0))\n    \n# 클래스 내 산포행렬 계산 \n# (row - mv).dot((row - mv).T) 수식을 이용해서 계산했는데,\n# 클래스가 균일하게 분포되어 있지 않을 경우 공분산을 사용하는 게 더 낫다.\nd = 13 # 특성의 수\nS_W = np.zeros((d, d))\nfor label, mv in zip(range(1, 4), mean_vecs):\n    class_scatter = np.zeros((d, d))  # 각 클래스에 대한 산포 행렬\n    for row in X_train_std[y_train == label]:\n        row, mv = row.reshape(d, 1), mv.reshape(d, 1)  # 열 벡터를 만듭니다\n        class_scatter += (row - mv).dot((row - mv).T)\n    S_W += class_scatter  \n    \n# 공분산을 이용한 클래스 내 산포행렬 계산\nd = 13  # 특성의 수\nS_W = np.zeros((d, d))\nfor label, mv in zip(range(1, 4), mean_vecs):\n    class_scatter = np.cov(X_train_std[y_train == label].T)\n    S_W += class_scatter\n      \n\n# 클래스 간 산포행렬 계산\nmean_overall = np.mean(X_train_std, axis=0)\nmean_overall = mean_overall.reshape(d, 1)  # 열 벡터로 만들기\nd = 13  # 특성 개수\nS_B = np.zeros((d, d))\nfor i, mean_vec in enumerate(mean_vecs):\n    n = X_train_std[y_train == i + 1, :].shape[0]\n    mean_vec = mean_vec.reshape(d, 1)  # 열 벡터로 만들기\n    S_B += n * (mean_vec - mean_overall).dot((mean_vec - mean_overall).T)\n\n# 산포행렬의 고유값, 고유벡터 계산\neigen_vals, eigen_vecs = np.linalg.eig(np.linalg.inv(S_W).dot(S_B))\n\n# 고유값 내림차순으로 정렬\neigen_pairs = [(np.abs(eigen_vals[i]), eigen_vecs[:, i])\n               for i in range(len(eigen_vals))]\neigen_pairs = sorted(eigen_pairs, key=lambda k: k[0], reverse=True)\n\n# 변환행렬 w 생성\nw = np.hstack((eigen_pairs[0][1][:, np.newaxis].real,\n              eigen_pairs[1][1][:, np.newaxis].real))\n              \n# LDA로 차원축소 적용하기\nX_train_lda = X_train_std.dot(w)\n\n")),"\n",l.createElement(t.h3,{id:"my-heading-10"},"5.2.2.2 사이킷런 구현",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-10"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-py"},"from sklearn.discriminant_analysis import LinearDiscriminantAnalysis as LDA\n\n# X_train_std는 정규화된 데이터다. \n# LDA는 정규화를 가정하고 하는 거라 반드시 해주는 것이 좋다.\n\n# n_components LDA로 축소될 차원을 뜻한다.\n# 여기서는 2차원으로 축소했다.\nlda = LDA(n_components=2)\nX_train_lda = lda.fit_transform(X_train_std, y_train)\n")),"\n",l.createElement(t.h1,{id:"my-heading-11"},"5.3 커널 PCA (KPCA)",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-11"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.p,null,"비선형적으로 분표되어 있는 데이터를 차원축소하기 위해 KPCA를 사용한다."),"\n",l.createElement(t.p,null,"간단하게 설명하자면,"),"\n",l.createElement(t.ol,null,"\n",l.createElement(t.li,null,"비선형적으로 분포되어 있는 데이터를 선형적으로 분리할 수 있는 고차원으로 데이터를 투영시킨다."),"\n",l.createElement(t.li,null,"고차원으로 투영된 데이터를 일반 PCA를 이용해 원하는 작은 차원으로 축소시킨다."),"\n"),"\n",l.createElement(t.p,null,"커널 svm과 마찬가지로 이런 방식으로 비선형 데이터 문제를 해결할 수 있다.",l.createElement(t.br),"\n","다만, 여기서 문제가 고차원으로 투영시키는데 드는 계산 비용이 어마무시하다는 것이다. 이를 해결하기 위해 등장한 것이 **커널 기법(kernel trick)**이다."),"\n",l.createElement(t.h2,{id:"my-heading-12"},"5.3.1 커널 기법 (Kernel Trick)",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-12"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.p,null,l.createElement(t.del,null,"커널 기법은 흑마법이다.")," 그니까 증명을 읽었는데도 이해가 안 된다는 얘기다. ",l.createElement(t.del,null,"흑마법처럼 그냥 받아들이면 편하다."),l.createElement(t.br),"\n","그래도 최대한 요약해서 이해하기 쉽게 풀어보겠다."),"\n",l.createElement(t.p,null,"데이터를 고차원으로 투영시키려면 ",l.createElement("u",null,"1) 데이터를 고차원 데이터로 변환"),"한 후 ",l.createElement("u",null,"2) 변환된 데이터를 내적"),"시켜야 한다. 이 과정에서 어마무시한 계산 비용이 소비된다.",l.createElement(t.br),"\n","그러나 커널 기법을 사용하면 이렇게 계산을 직접적으로 하지 않고서 같은 결과를 얻을 수 있다."),"\n",l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,"비유를 하자면, 우리가 1 ~ n 합을 구할 때 1부터 n까지 일일이 다 더해서 구할 수도 있지만 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mfrac,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"n"),l.createElement(t.mo,{stretchy:"false"},"("),l.createElement(t.mi,null,"n"),l.createElement(t.mo,null,"+"),l.createElement(t.mn,null,"1"),l.createElement(t.mo,{stretchy:"false"},")")),l.createElement(t.mn,null,"2"))),l.createElement(t.annotation,{encoding:"application/x-tex"},"\\frac{n(n+1)}{2}")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1.355em",verticalAlign:"-0.345em"}}),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mopen nulldelimiter"}),l.createElement(t.span,{className:"mfrac"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"1.01em"}},l.createElement(t.span,{style:{top:"-2.655em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mtight"},"2")))),l.createElement(t.span,{style:{top:"-3.23em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),l.createElement(t.span,{style:{top:"-3.485em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"n"),l.createElement(t.span,{className:"mopen mtight"},"("),l.createElement(t.span,{className:"mord mathnormal mtight"},"n"),l.createElement(t.span,{className:"mbin mtight"},"+"),l.createElement(t.span,{className:"mord mtight"},"1"),l.createElement(t.span,{className:"mclose mtight"},")"))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.345em"}},l.createElement(t.span))))),l.createElement(t.span,{className:"mclose nulldelimiter"})))))),"로 한 번에 계산할 수도 있다. ",l.createElement("sub",null,"아마 이게 커널 기법과 같은 메커니즘이 아닐까 한다.")),"\n"),"\n",l.createElement(t.p,null,"여기서 커널 기법을 우리가 직접 구현할 필요가 없고 이미 증명된 커널 기법을 사용하면 된다."),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"다항 커널"),"\n",l.createElement(t.li,null,"시그모이드 커널"),"\n",l.createElement(t.li,null,"가우시안 커널 (방사 기저 함수, RBF)"),"\n"),"\n",l.createElement(t.h2,{id:"my-heading-13"},"5.3.2 KPCA 파이썬으로 직접 구현",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-13"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-py"},'from scipy.spatial.distance import pdist, squareform\nfrom numpy import exp\nfrom scipy.linalg import eigh\nimport numpy as np\n\ndef rbf_kernel_pca(X, gamma, n_components):\n    """\n    RBF 커널 PCA 구현\n\n    매개변수\n    ------------\n    X: {넘파이 ndarray}, shape = [n_samples, n_features]\n        \n    gamma: float\n      RBF 커널 튜닝 매개변수\n        \n    n_components: int\n      반환할 주성분 개수\n\n    Returns\n    ------------\n     alphas: {넘파이 ndarray}, shape = [n_samples, k_features]\n       투영된 데이터셋\n     \n     lambdas: list\n       고윳값\n\n    """\n    # MxN 차원의 데이터셋에서 샘플 간의 유클리디안 거리의 제곱을 계산합니다.\n    sq_dists = pdist(X, \'sqeuclidean\')\n\n    # 샘플 간의 거리를 정방 대칭 행렬로 변환합니다.\n    mat_sq_dists = squareform(sq_dists)\n\n    # 커널 행렬을 계산합니다.\n    K = exp(-gamma * mat_sq_dists)\n\n    # 커널 행렬을 중앙에 맞춥니다.\n    N = K.shape[0]\n    one_n = np.ones((N, N)) / N\n    K = K - one_n.dot(K) - K.dot(one_n) + one_n.dot(K).dot(one_n)\n\n    # 중앙에 맞춰진 커널 행렬의 고윳값과 고유 벡터를 구합니다.\n    # scipy.linalg.eigh 함수는 오름차순으로 반환합니다.\n    eigvals, eigvecs = eigh(K)\n    eigvals, eigvecs = eigvals[::-1], eigvecs[:, ::-1]\n\n    # 최상위 k 개의 고유 벡터를 선택합니다(투영 결과).\n    alphas = np.column_stack([eigvecs[:, i]\n                              for i in range(n_components)])\n\n    # 고유 벡터에 상응하는 고윳값을 선택합니다.\n    lambdas = [eigvals[i] for i in range(n_components)]\n\n    return alphas, lambdas\n')),"\n",l.createElement(t.h2,{id:"my-heading-14"},"5.3.2.1 새로운 데이터 포인트 투영",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-14"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.p,null,"훈련 데이터셋 외의 다른 데이터셋(훈련 데이터셋, 검증 데이터셋 등)을 모델에 넣을 때 마찬가지로 KPCA 처리하여 투영한 후에 넣어야 한다. 이때 위 코드에서 반환한 고윳값 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"λ")),l.createElement(t.annotation,{encoding:"application/x-tex"},"\\lambda")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.6944em"}}),l.createElement(t.span,{className:"mord mathnormal"},"λ"))))),"를 이용하여 KPCA 처리해 준다.",l.createElement(t.br),"\n","코드는 다음과 같다."),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-py"},"def project_x(x_new, X, gamma, alphas, lambdas):\n    pair_dist = np.array([np.sum((x_new - row)**2) for row in X])\n    k = np.exp(-gamma * pair_dist)\n    return k.dot(alphas / lambdas)\n")),"\n",l.createElement(t.h2,{id:"my-heading-15"},"5.3.3 KPCA 사이킷런 구현",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-15"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-py"},"from sklearn.decomposition import KernelPCA\n\n# 반달 모양 예시 데이터를 생성한다.\nX, y = make_moons(n_samples=100, random_state=123)\n\n# 사이킷런의 KernelPCA를 수행한다.\nscikit_kpca = KernelPCA(n_components=2, kernel='rbf', gamma=15)\n# 이를 데이터에 적용시킨다.\nX_skernpca = scikit_kpca.fit_transform(X)\n")),"\n",l.createElement(t.h1,{id:"my-heading-16"},"요약",l.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-16"},l.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",l.createElement(t.p,null,"특성 추출을 위한 세 개의 기본적인 차원 축소 기법에 대해서 다뤄봤다. 기본 PCA, LDA, 커널 PCA이다."),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"기본 PCA는 클래스 레이블 없이 직교하는 특성 축을 따라 분산이 최대가 되는 저차원으로 데이터를 투영한다."),"\n",l.createElement(t.li,null,"LDA는 클래스 레이블을 사용하여 선형 특성 공간에서 클래스 구분 능력을 최대화한다."),"\n",l.createElement(t.li,null,"커널 PCA는 커널 트릭과 고차원 특성 공간으로의 가상 투영을 통하여 비선형 데이터셋을 저차원으로 극적으로 압축한다. 이를 통해 비선형 데이터를 선형적으로 구분할 수 있게 만든다."),"\n"))}var s=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,n.RP)(),e.components);return t?l.createElement(t,e,l.createElement(m,e)):m(e)},r=a(54183),c=a(63840),i=a(67234),o=a(74196),p=a(33738),E=a(59146),h=a(32532),g=a(12931),u=a(92072),d=a(13626),N=a(39315),v=a(59879),y=a(68743),b=a(780),x=a(82228),f=a(66505),_=a(47722),w=a(55135),k=a(73992),z=a(80795);const A=e=>{var t,a,n,m,s,h;let{children:z,data:A,pageContext:R}=e;const C=A.otherLocalePost.nodes.map((e=>{var t;return(null===(t=e.frontmatter)||void 0===t?void 0:t.locale)||"ko"})),{0:L,1:S}=(0,l.useState)(!1),M=(0,l.useRef)(null),P=(null===(t=A.post)||void 0===t||null===(a=t.frontmatter)||void 0===a?void 0:a.locale)||"ko",I=null===(n=A.post)||void 0===n||null===(m=n.frontmatter)||void 0===m?void 0:m.slug,T=(0,r.A)({base:!1,"1.75xl":!0}),{0:D,1:X}=((0,r.A)({base:"6",md:"8"}),(0,l.useState)(!1)),j=(0,l.useRef)(null),{0:W,1:K}=(0,l.useState)(300),{colorMode:B}=(0,c.G6)();return(0,l.useEffect)((()=>{const e=()=>{S(window.innerWidth<630)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,l.useEffect)((()=>{const e=e=>{(j.current&&!j.current.contains(e.target)||M.current&&!M.current.contains(e.target))&&X(!1)};return D&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[D]),(0,l.useEffect)((()=>{const e=e=>{if(!j.current)return;const t=j.current;if(t.contains(e.target)){const a=0===t.scrollTop,n=Math.ceil(t.scrollTop+t.clientHeight)>=t.scrollHeight;(a&&e.deltaY<0||n&&e.deltaY>0)&&e.preventDefault()}},t=e=>{if(!j.current)return;const t=j.current;if(t.contains(e.target)){const a=0===t.scrollTop,n=Math.ceil(t.scrollTop+t.clientHeight)>=t.scrollHeight;(a&&e.touches[0].clientY>0||n&&e.touches[0].clientY<0)&&e.preventDefault()}};return D&&(document.addEventListener("wheel",e,{passive:!1}),document.addEventListener("touchmove",t,{passive:!1})),()=>{document.removeEventListener("wheel",e),document.removeEventListener("touchmove",t)}}),[D]),l.createElement(f.A,{tableOfContents:T?null===(s=A.post)||void 0===s?void 0:s.myTableOfContents:void 0},l.createElement(i.s,{direction:"column",width:"100%"},l.createElement(x.A,{readingTime:R.readingTime.text,post:A.post}),!T&&(null===(h=A.post)||void 0===h?void 0:h.myTableOfContents)&&l.createElement(l.Fragment,null,l.createElement(N.P.div,{initial:{right:"0px"},animate:{right:"0px"},transition:{duration:.3},style:{position:"fixed",bottom:L?"40px":"70px",transform:"translateY(-50%)",zIndex:10}},l.createElement(o.K,{"aria-label":"Toggle TOC",borderRadius:"full",size:"lg",right:{base:"12px",sm:"15px",md:"30px"},onClick:()=>X(!D),variant:"ghost",_hover:{bg:"transparent",color:"blue.400"},_focus:{boxShadow:"none",bg:"transparent"},display:D?"none":"block",icon:l.createElement(i.s,{alignItems:"center",justifyContent:"center"},D?l.createElement(l.Fragment,null,l.createElement(g.v,{boxSize:"20px",ml:-1}),l.createElement(p.I,{as:v.hCN,boxSize:"24px",ml:-1})," "):l.createElement(l.Fragment,null,l.createElement(u.Y,{boxSize:"20px",ml:-1}),l.createElement(p.I,{as:v.hCN,boxSize:"24px",ml:-1})," "))})),l.createElement(N.P.div,{initial:{right:"-300px"},animate:{right:D?"0px":"-300px"},transition:{duration:.3},ref:j,style:{position:"fixed",top:0,height:"100vh",width:"300px",maxWidth:"80vw",zIndex:10,overflowY:"auto",overflowX:"hidden"}},l.createElement(E.a,{backgroundColor:"white",boxShadow:"md",position:"relative",height:"100%",width:"300px",_dark:{backgroundColor:"gray.800"}},l.createElement(o.K,{"aria-label":"Close TOC",icon:l.createElement(d.U,null),position:"absolute",top:"10px",right:"10px",onClick:()=>X(!1),size:"sm",backgroundColor:"transparent",color:"black",_dark:{color:"white"}}),l.createElement(E.a,{pt:"60px",pb:"20px",pl:"20px",width:"300px",backgroundColor:"white",_dark:{backgroundColor:"gray.800"}},l.createElement(k.A,{tableOfContents:A.post.myTableOfContents}))))),C.length>1&&l.createElement(b.A,{currentSlug:I,locales:C,currentLocale:P}),l.createElement(E.a,{marginTop:"40px",sx:{img:{borderRadius:"10px"}}},z),l.createElement(w.A,{relatedPosts:A.relatedPosts}),l.createElement(_.A,null),l.createElement(y.A,null)))},R=e=>{var t,a,n,m,s,r,c,i,o,p,E,g,u,d,N,v,y,b,x,f,_;let{data:w}=e;const k=(null===(t=w.post)||void 0===t||null===(a=t.frontmatter)||void 0===a?void 0:a.locale)||"ko",A="ko"===k?(null===(n=w.post)||void 0===n||null===(m=n.frontmatter)||void 0===m?void 0:m.title)+" - Jinsoolve 블로그":(null===(s=w.post)||void 0===s||null===(r=s.frontmatter)||void 0===r?void 0:r.title)+" - Jinsoolve Blog",R=null===(c=w.post)||void 0===c||null===(i=c.frontmatter)||void 0===i?void 0:i.description,C=null===(o=w.post)||void 0===o||null===(p=o.frontmatter)||void 0===p||null===(E=p.thumbnail)||void 0===E||null===(g=E.childImageSharp)||void 0===g?void 0:g.gatsbyImageData,L="ko"===k?"ko_KR":"en_US",S="ko"===k?"개발":"Development";return l.createElement(l.Fragment,null,l.createElement("title",null,A),l.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),l.createElement("meta",{property:"og:url",content:z.V2+"/posts/"+(null===(u=w.post)||void 0===u||null===(d=u.frontmatter)||void 0===d?void 0:d.slug)}),l.createElement("meta",{property:"og:type",content:"website"}),l.createElement("meta",{property:"og:site_name",content:A}),l.createElement("meta",{property:"og:title",content:A}),l.createElement("meta",{property:"og:description",content:R}),l.createElement("meta",{property:"og:image",content:(0,h.d)(C)}),l.createElement("meta",{property:"og:locale",content:L}),l.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),l.createElement("meta",{property:"twitter:domain",content:"jinsoolve.netlify.app"}),l.createElement("meta",{property:"twitter:url",content:z.V2+"/posts/"+(null===(N=w.post)||void 0===N||null===(v=N.frontmatter)||void 0===v?void 0:v.slug)}),l.createElement("meta",{name:"twitter:title",content:A}),l.createElement("meta",{name:"twitter:description",content:R}),l.createElement("meta",{name:"twitter:image",content:(0,h.d)(C)}),l.createElement("meta",{name:"twitter:label1",content:"Category"}),l.createElement("meta",{name:"twitter:data1",content:S+" | "+(null===(y=w.post)||void 0===y||null===(b=y.frontmatter)||void 0===b?void 0:b.categories[0])}),l.createElement("meta",{name:"article:published_time",content:(null===(x=w.post)||void 0===x||null===(f=x.frontmatter)||void 0===f||null===(_=f.createdAt)||void 0===_?void 0:_.replace(/[/]/g,"-"))+"T09:00:00.000Z"}))};function C(e){return l.createElement(A,e,l.createElement(s,e))}},780:function(e,t,a){var n=a(67234),l=a(21052),m=a(58693),s=a(96540);t.A=e=>{let{currentLocale:t,locales:a,currentSlug:r}=e;return s.createElement(n.s,{alignItems:"center",marginTop:10,gap:2},s.createElement(l.E,{fontSize:16,fontWeight:"800",color:"black.900"},"Locales:"),s.createElement(n.s,{overflow:"hidden",width:"100%",gap:2,fontSize:12},a.map((e=>{const a="ko"===e?"/posts/"+r:"/"+e+"/posts/"+r;return e===t?s.createElement(l.E,{key:e,fontSize:16,fontWeight:"600",textDecoration:"underline",color:"black.900"},e):s.createElement(m.Link,{key:e,to:a},s.createElement(l.E,{fontSize:16,color:"black.900"},e))}))))}},95841:function(e,t,a){var n=a(59146),l=a(67234),m=a(85353),s=a(21052),r=a(58693),c=a(32532),i=a(96540),o=a(63840),p=a(96540);t.A=e=>{let{createdAt:t,description:a,slug:E,thumbnail:h,title:g,updatedAt:u,excerpt:d}=e;const N=(0,i.useMemo)((()=>(new Date).getTime()-new Date(t).getTime()),[t]),v=(0,i.useMemo)((()=>Math.floor(N/864e5)<=10),[N]),y=(0,o.dU)("gray.50","#444548"),b=(0,o.dU)("blue.500","blue.400"),x=((0,o.dU)("0 4px 6px rgba(0, 0, 0, 0.3)","0 4px 6px rgba(255, 255, 255, 0.3)"),(0,i.useMemo)((()=>h?"380px":{base:"190px",sm_md:"380px"}),[h]));return p.createElement(r.Link,{to:"/posts/"+E},p.createElement(n.a,{as:"article",transition:"all 0.25s ease",position:"relative",borderRadius:"20px",overflow:"hidden",width:{base:"280px",sm_md:"290px"},minWidth:"205px",maxWidth:"85vw",minHeight:x,height:"100%",boxShadow:"xl",borderWidth:"2px",borderColor:y,_hover:{borderColor:b,boxShadow:"xl",cursor:"pointer"}},p.createElement(c.G,{objectFit:"cover",style:{maxHeight:"171px",height:"45%",width:"100%"},image:h,alt:E+" cover image"}),p.createElement(l.s,{flexDirection:"column",justifyContent:"space-between",height:h?"55%":"100%",padding:"20px"},p.createElement(n.a,null,p.createElement(m.D,{fontSize:"20px",fontWeight:"700",marginBottom:"8px"},g),p.createElement(s.E,{fontSize:"16px",color:"gray.600",noOfLines:2,marginBottom:"10px"},a||d)),p.createElement(l.s,{justifyContent:"space-between",alignItems:"flex-start",marginTop:"10px"},p.createElement(s.E,{fontSize:"14px",color:"gray.500"},u?u+" (updated)":t),p.createElement(n.a,{backgroundColor:"blue.400",color:"white",borderRadius:"12px",padding:"4px 8px",fontSize:"12px",fontWeight:"bold",visibility:v?"visible":"hidden"},"NEW POST")))))}},55135:function(e,t,a){var n=a(63840),l=a(59146),m=a(85353),s=a(32818),r=a(75828),c=a(9e4),i=a(33738),o=a(58693),p=a(12931),E=a(95841),h=a(96540);t.A=e=>{let{relatedPosts:t}=e;const a=null==t?void 0:t.nodes.length,g=null==t?void 0:t.nodes.slice(0,4),u=((0,n.dU)("white","black"),(0,n.dU)("gray.50","#444548")),d=(0,n.dU)("blue.500","blue.400");return h.createElement(l.a,{marginTop:"200px"},a?h.createElement(m.D,{as:"h2",fontSize:24},"관련 포스트가 ",a,"개 있어요."):h.createElement(s.o,{height:"100px",borderRadius:"8px",backgroundColor:"blue.50"},h.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002 0 5.523-4.478 10.001-10.002 10.001-5.524 0-10.002-4.478-10.002-10.001C1.998 6.477 6.476 1.999 12 1.999Zm-.004 8.25a1 1 0 0 0-.992.885l-.007.116.003 5.502.007.117a1 1 0 0 0 1.987-.002L13 16.75l-.003-5.501-.007-.117a1 1 0 0 0-.994-.882ZM12 6.5a1.251 1.251 0 1 0 0 2.503A1.251 1.251 0 0 0 12 6.5Z",fill:"#3182ce"})),h.createElement(m.D,{as:"h2",color:"blue.500",fontSize:20},"관련 포스트가 없어요.")),h.createElement(r.x,{mt:"20px",templateColumns:{sm_md:"repeat(2, 1fr)",lg:"repeat(2, 1fr)"},gap:6,alignItems:"center",justifyContent:"center"},null==g?void 0:g.map((e=>{var t,a,n,l,m,s,r,i,o,p;return h.createElement(c.E,{as:"article",key:null==e||null===(t=e.frontmatter)||void 0===t?void 0:t.slug,display:"flex",alignItems:"center",justifyContent:"center"},h.createElement(E.A,{title:null===(a=e.frontmatter)||void 0===a?void 0:a.title,description:null===(n=e.frontmatter)||void 0===n?void 0:n.description,slug:null===(l=e.frontmatter)||void 0===l?void 0:l.slug,thumbnail:null===(m=e.frontmatter)||void 0===m||null===(s=m.thumbnail)||void 0===s||null===(r=s.childImageSharp)||void 0===r?void 0:r.gatsbyImageData,createdAt:null===(i=e.frontmatter)||void 0===i?void 0:i.createdAt,updatedAt:null===(o=e.frontmatter)||void 0===o?void 0:o.updatedAt,categories:null===(p=e.frontmatter)||void 0===p?void 0:p.categories,excerpt:e.excerpt}))}))),a>6&&h.createElement(s.o,{mt:"20px"},h.createElement(o.Link,{to:"/categories/"+t.nodes[0].frontmatter.categories[0]},h.createElement(l.a,{as:"button",mt:"20px",transition:"all 0.25s ease",padding:"10px 20px",borderRadius:"12px",fontWeight:"bold",boxShadow:"xl",borderWidth:"2px",borderColor:u,_hover:{borderColor:d,boxShadow:"xl",cursor:"pointer"},display:"flex",alignItems:"center"},"더 많은 관련 포스트 보러가기",h.createElement(i.I,{as:p.v,ml:2,w:5,h:5})))))}},92072:function(e,t,a){a.d(t,{Y:function(){return n}});const n=(0,a(37513).w)({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"})},12931:function(e,t,a){a.d(t,{v:function(){return n}});const n=(0,a(37513).w)({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"})},9e4:function(e,t,a){a.d(t,{E:function(){return i}});var n=a(74848),l=a(77341),m=a(5090),s=a(12600),r=a(53785);function c(e){return(0,l.bk)(e,(e=>"auto"===e?"auto":`span ${e}/span ${e}`))}const i=(0,s.R)((function(e,t){const{area:a,colSpan:l,colStart:s,colEnd:i,rowEnd:o,rowSpan:p,rowStart:E,...h}=e,g=(0,m.o)({gridArea:a,gridColumn:c(l),gridRow:c(p),gridColumnStart:s,gridColumnEnd:i,gridRowStart:E,gridRowEnd:o});return(0,n.jsx)(r.B.div,{ref:t,__css:g,...h})}));i.displayName="GridItem"},75828:function(e,t,a){a.d(t,{x:function(){return s}});var n=a(74848),l=a(12600),m=a(53785);const s=(0,l.R)((function(e,t){const{templateAreas:a,gap:l,rowGap:s,columnGap:r,column:c,row:i,autoFlow:o,autoRows:p,templateRows:E,autoColumns:h,templateColumns:g,...u}=e,d={display:"grid",gridTemplateAreas:a,gridGap:l,gridRowGap:s,gridColumnGap:r,gridAutoColumns:h,gridColumn:c,gridRow:i,gridAutoFlow:o,gridAutoRows:p,gridTemplateRows:E,gridTemplateColumns:g};return(0,n.jsx)(m.B.div,{ref:t,__css:d,...u})}));s.displayName="Grid"}}]);
//# sourceMappingURL=component---src-templates-post-page-tsx-content-file-path-users-jinsoo-git-jinsoolve-blog-content-ml-ml-textbook-6-untitled-mdx-3e89d50466d02ca319a5.js.map