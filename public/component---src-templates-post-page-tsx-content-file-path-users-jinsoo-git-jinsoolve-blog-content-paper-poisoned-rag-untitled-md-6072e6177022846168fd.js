"use strict";(self.webpackChunkjinsoolve_blog=self.webpackChunkjinsoolve_blog||[]).push([[7081],{68324:function(e,t,n){n.r(t),n.d(t,{Head:function(){return L},default:function(){return N}});var a=n(28453),r=n(96540);function l(e){const t=Object.assign({p:"p",a:"a",h1:"h1",span:"span",strong:"strong",br:"br",img:"img",ul:"ul",li:"li",h4:"h4",ol:"ol",h2:"h2",h3:"h3",math:"math",semantics:"semantics",mrow:"mrow",mi:"mi",annotation:"annotation"},(0,a.RP)(),e.components),{Callout:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Callout",!0),r.createElement(r.Fragment,null,r.createElement(t.p,null,"위 글은 ",r.createElement(t.a,{href:"https://arxiv.org/pdf/2402.07867"},"PoisonedRAG: Knowledge Corruption Attacks to Retrieval-Augmented Generationof Large Language Models")," 논문을 리뷰한 글이다."),"\n",r.createElement(n,{type:"danger"},r.createElement(t.p,null,"이 글은 공부를 하면서 작성한 글이므로 잘못된 부분이 있을 수 있습니다.")),"\n",r.createElement(t.h1,{id:"my-heading-1"},"Abstract",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-1"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.p,null,"LLM은 정말 좋은 성능을 보였지만, 여전히 최신 지식 부족이나 Hallucination 같은 한계가 존재했는데 이를 해결하기 위해서 RAG(Retrieval Augmented Generation) 기법을 사용하였다."),"\n",r.createElement(t.p,null,"RAG는 외부 지식 데이터베이스에서 검색한 결과를 기반으로 답변을 생성하는 기술이다. 지금까지 논문들은 이러한 RAG의 효율성 및 정확도를 높이기 위해 노력했지만 RAG의 보안적인 측면은 거의 탐구되지 않았고 위 논문은 RAG의 보안 측면을 탐구하는 논문이다."),"\n",r.createElement(t.p,null,"RAG 시스템이 외부 지식 데이터베이스를 참고하여 답변을 한다는 점을 이용하여 이 지식 데이터베이스에 소수의 악성 텍스트를 삽입하여 공격자가 하는 특정 질문(target question)에 대해 LLM이 공격자가 원하는 특정 답변(target answer)를 생성하도록 유도할 수 있음을 발견하였다. 이러한 RAG 시스템에 대한 지식 손상 공격(Knowledge Corruption Attack)은 ",r.createElement(t.strong,null,"PoisonedRAG"),"이다."),"\n",r.createElement(t.p,null,"위 논문은 이러한 지식 손상 공격을 최적화 문제로 보고 공식화시킨다. 이 최적화 문제의 답은 ",r.createElement(t.strong,null,"malicious text(악성 텍스트)")," 의 집합이다."),"\n",r.createElement(t.p,null,"RAG 시스템에 대해서 Attacker가 알고 있느냐 모르냐로 white-box와 black-box의 경우로 나눠서 2가지 최적화 문제를 제시하고 이를 해결하였다.",r.createElement(t.br),"\n","결과적으로 5개의 악성텍스트를 제공했을 때 거대한 지식 데이터베이스를 기반으로 RAG를 한 LLM에 대해 90%의 attack success의 결과를 얻을 수 있었다."),"\n",r.createElement(t.p,null,"또한 위 공격들에 대해 몇 가지 방어기법을 적용해보고 그 결과를 살펴보았을 때, PoisonedRAG를 막기에는 부족하다는 것을 보여줄 수 있었다."),"\n",r.createElement(t.h1,{id:"my-heading-2"},"1 Introduction",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-2"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.p,null,"Abstract에서 설명한 바와 같이 LLM은 hallucination을 극복하고 특정 도메인에서의 지식 차이나 최신 지식을 얻기 위해서 RAG 기법을 사용한다.",r.createElement(t.br),"\n",r.createElement(t.img,{src:"https://i.imgur.com/vcv6DhR.png",alt:""}),r.createElement(t.br),"\n","RAG는 총 3가지로 구분할 수 있는데,"),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"Knowledge Database"),"\n",r.createElement(t.li,null,"Retriever"),"\n",r.createElement(t.li,null,"LLM"),"\n"),"\n",r.createElement(t.p,null,"먼저 Knowledge Database(위키피디아, 기사 등에서 갖고옴)에서 Retriver를 통해서 관련있는 정보를 추출한 후에 LLM에게 context로써 제공한다.",r.createElement(t.br),"\n","그러면 LLM은 제공된 정보를 가지고 답변을 생성하게 된다."),"\n",r.createElement(t.p,null,"이러다 보니 결국 LLM은 Knowledge Database라는 새로운 attack surface를 제공하게 되었고 이를 통해 공격받을 수 있게 되었다."),"\n",r.createElement(t.p,null,"현재까지의 RAG에 관련된 논문은 이 RAG의 정확도나 효율성을 올리기 위한 작업들이었지만 보안적인 취약점을 위한 논문은 존재하지 않았고 위 논문은 보안적 취약점을 이야기하는 바이다."),"\n",r.createElement(t.h4,{id:"my-heading-3"},"Knowledge database as a new and practical attack surface",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-3"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.p,null,"Attacker는 이러한 Knowledge Database를 공격한다.",r.createElement(t.br),"\n","예를 들면, 위키피디아의 내용에 malicious texts(악성 텍스트)를 넣는 방식으로 진행한다.",r.createElement(t.br),"\n","혹은, 가짜 뉴스를 포스팅한다던가 악성 웹사이트를 호스팅하여 인터넷을 통한 정보 수집을 공격하는 방식으로 해볼 수 있다."),"\n",r.createElement(t.h4,{id:"my-heading-4"},"Threat model",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-4"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.p,null,"PoisonedRAG에서는 Target Question을 넣으면 Target Answer를 LLM이 생성하게 되도록 하는 것이 목표다. 말 그대로 LLM이 말도 안 되는 말을 하도록 하는 것이다.",r.createElement(t.br),"\n","이렇게 되면 LLM을 다양한 분야에 사용하기 어려움이 많이 생긴다."),"\n",r.createElement(t.p,null,"위 논문에서는 knowledge database의 텍스트에 접근할 수 없고, LLM에 접근하거나 질문할 수 없음을 가정한다. 공격자는 retriever를 알 수도 있고, 모를 수도 있다. 이에 따라 2개의 세팅, ",r.createElement(t.strong,null,"white-box setting"),"과 ",r.createElement(t.strong,null,"black-box setting"),"으로 나눈다."),"\n",r.createElement(t.p,null,"쉽게 얘기하면 knowledge database나 LLM은 아예 못 건드리고 retriever를 건드리냐, 건드리지 않느냐로 나눈다."),"\n",r.createElement(t.h4,{id:"my-heading-5"},"Overview of PoisonedRAG",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-5"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.p,null,"PoisonedRAG에 대해서 가볍게 살펴보자."),"\n",r.createElement(t.p,null,"위 논문에서는 악성 텍스트를 구성하는 것을 최적화 문제라 생각하고 가설을 공식화하였다.",r.createElement(t.br),"\n","하지마 이 문제를 해결하기는 쉽지 않고 따라서 ",r.createElement(t.a,{href:"https://ko.wikipedia.org/wiki/%ED%9C%B4%EB%A6%AC%EC%8A%A4%ED%8B%B1_%EC%9D%B4%EB%A1%A0"},"heuristic"),"(경험적으로 느슨하게 그럴 거라 대충 생각한다? 정도의 의미)하게 생각하였을 때 ",r.createElement(t.strong,null,"retrieval condition"),"과 ",r.createElement(t.strong,null,"generation condition"),"으로 나눠서 생각하자."),"\n",r.createElement(t.p,null,r.createElement(t.strong,null,"retrieval condition"),"이란, target question이 들어왔을 때 retriever가 악성텍스트를 잘 뽑아내는 지의 여부이다.",r.createElement(t.br),"\n",r.createElement(t.strong,null,"generation condition"),"은 이러한 악성텍스트가 LLM이 target answer을 생성하게 하는 지를 의미한다."),"\n",r.createElement(t.p,null,"위 논문에서는 ",r.createElement(t.strong,null,"이 2 조건을 각각 성공시킬 수 있는 2개의 sub-text으로 악성텍스트를 decompose"),"한다. 그리고 이 2개의 ",r.createElement(t.strong,null,"sub-text"),"를 합쳐서 동시에 2개의 조건을 성공시킬 수 있도록 하는 것이 주요한 아이디어이다."),"\n",r.createElement(t.h4,{id:"my-heading-6"},"Evaluation of PoisonedRAG",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-6"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.p,null,"위 논문에서는 Attack Success Rate (ASR)을 평가 지표로 사용하고, 여기서 ASR은 target question에 대해서 target answer가 나왔는 지의 여부를 사용한다."),"\n",r.createElement(t.p,null,"다음과 같은 결과를 얻을 수 있었다고 한다."),"\n",r.createElement(t.ol,null,"\n",r.createElement(t.li,null,"PoisonedRAG는 적은 양의 악성 텍스트로도 높은 ASR을 달성할 수 있었다."),"\n",r.createElement(t.li,null,"SOTA(State-of-the-art) baseline(기본 모델) 즉, 현재 최고 수준의 성능을 보이는 기존방법에 대해서도 우수한 성능을 보였다."),"\n",r.createElement(t.li,null," Ablation Studies(특정 요소의 중요성을 평가하기 위해 그 요소를 제거하나 변경하면서 성능 미치는 영향을 분석하는 방법) 결과로, 다양한 하이퍼-파라미터 설정에서도 안정적이고 일관된 성능을 보여준다."),"\n"),"\n",r.createElement(t.h4,{id:"my-heading-7"},"Defending against PoisonedRAG",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-7"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.p,null,"몇 가지 defenses 기법에 대해서도, PoisonedRAG를 적용하였을 때 이를 막기에는 역부족이었음을 확인할 수 있었다.",r.createElement(t.br),"\n","(여기서 말하는 defense 기법에는 paraphrasing과 perplexity-based detection이 있었다.)"),"\n",r.createElement(n,{type:""},r.createElement(t.p,null,r.createElement(t.strong,null,"Paraphrasing"),"이란, 같은 내용을 다른 단어로 바꿔서 말하는 것.",r.createElement(t.br),"\n","주로 문자의 표현을 다양화하건, 더 간단하고 명확하게 전달하고자 할 때 사용됨.")),"\n",r.createElement(n,{type:""},r.createElement(t.p,null,r.createElement(t.strong,null,"Perplexity-based detection"),"이란, (쉽게 말하면)",r.createElement(t.br),"\n",'문장을 듣고 "이건 정말 사람이 쓴 말 같다" 또는 "이거 뭔가 이상한데?"라고 판단하는 모델의 직감 같은 것.'),r.createElement(t.p,null,"텍스트가 얼마나 예측 가능한지(혹은 자연스러운지)를 측정하는데 사용.")),"\n",r.createElement(t.p,null,"위와 같은 Defense 기법에도 PoisonedRAG는 여전히 효과가 굉장했다!"),"\n",r.createElement(t.h1,{id:"my-heading-8"},"2 Background and Related Work",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-8"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.p,null,"추후에 계속..."),"\n",r.createElement(t.h2,{id:"my-heading-9"},"2.1 Background on RAG",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-9"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-10"},"2.2 Existing Attacks to LLMs",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-10"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-11"},"2.3 Existing Data Poisoning Attacks",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-11"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h1,{id:"my-heading-12"},"3 Problem Formulation",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-12"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-13"},"3.1 Threat Model",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-13"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-14"},"3.2 Knowledge Corruption Attack to RAG",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-14"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h1,{id:"my-heading-15"},"4 Design of PoisonedRAG",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-15"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-16"},"4.1 Deriving Two Necessary Conditions for an Effective Knowledge Corruption Attack",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-16"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-17"},"4.2 Crafting Malicious Texts to Achieve the Two Derived Conditions",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-17"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h3,{id:"my-heading-18"},"4.2.1 Crafting ",r.createElement(t.span,{className:"math math-inline"},r.createElement(t.span,{className:"katex"},r.createElement(t.span,{className:"katex-mathml"},r.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},r.createElement(t.semantics,null,r.createElement(t.mrow,null,r.createElement(t.mi,null,"I")),r.createElement(t.annotation,{encoding:"application/x-tex"},"I")))),r.createElement(t.span,{className:"katex-html","aria-hidden":"true"},r.createElement(t.span,{className:"base"},r.createElement(t.span,{className:"strut",style:{height:"0.6833em"}}),r.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"I")))))," to Achieve Generation Condition",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-18"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h3,{id:"my-heading-19"},"4.2.2 Crafting ",r.createElement(t.span,{className:"math math-inline"},r.createElement(t.span,{className:"katex"},r.createElement(t.span,{className:"katex-mathml"},r.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},r.createElement(t.semantics,null,r.createElement(t.mrow,null,r.createElement(t.mi,null,"S")),r.createElement(t.annotation,{encoding:"application/x-tex"},"S")))),r.createElement(t.span,{className:"katex-html","aria-hidden":"true"},r.createElement(t.span,{className:"base"},r.createElement(t.span,{className:"strut",style:{height:"0.6833em"}}),r.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S")))))," to Achieve Retrieval Condition",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-19"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h1,{id:"my-heading-20"},"5 Evaluation",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-20"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-21"},"5.1 Experimental Setup",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-21"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-22"},"5.2 Main Results",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-22"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-23"},"5.3 Ablation Study",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-23"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h3,{id:"my-heading-24"},"5.3.1 Impact of Hyperparameters in RAG",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-24"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h3,{id:"my-heading-25"},"5.3.2 Impact of Hyperparameters in PoisonedRAG",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-25"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h1,{id:"my-heading-26"},"6 Evaluation for Real-world Applications",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-26"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-27"},"6.1 Advanced RAG Schemes",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-27"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-28"},"6.2 Wikipedia-based ChatBot",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-28"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-29"},"6.3 LLM Agent",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-29"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h1,{id:"my-heading-30"},"7 Defenses",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-30"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-31"},"7.1 Paraphrasing",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-31"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-32"},"7.2 Perplexity-based Detection",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-32"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-33"},"7.3 Duplicate Text Filtering",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-33"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h2,{id:"my-heading-34"},"7.4 Knowledge Expansion",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-34"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h1,{id:"my-heading-35"},"8 Discussion and Limitation",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-35"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",r.createElement(t.h1,{id:"my-heading-36"},"9 Conclusion and Future Work",r.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-36"},r.createElement(t.span,{className:"heading-anchor-icon"},"#"))))}var i=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,a.RP)(),e.components);return t?r.createElement(t,e,r.createElement(l,e)):l(e)};var o=n(54183),c=n(63840),m=n(67234),d=n(74196),s=n(33738),h=n(59146),u=n(32532),g=n(12931),p=n(92072),E=n(13626),f=n(39315),b=n(59879),x=n(68743),v=n(780),y=n(82228),w=n(66505),A=n(47722),k=n(55135),R=n(73992),C=n(80795);const I=e=>{var t,n,a,l,i,u;let{children:C,data:I,pageContext:L}=e;const N=I.otherLocalePost.nodes.map((e=>{var t;return(null===(t=e.frontmatter)||void 0===t?void 0:t.locale)||"ko"})),{0:S,1:G}=(0,r.useState)(!1),M=(0,r.useRef)(null),T=(null===(t=I.post)||void 0===t||null===(n=t.frontmatter)||void 0===n?void 0:n.locale)||"ko",D=null===(a=I.post)||void 0===a||null===(l=a.frontmatter)||void 0===l?void 0:l.slug,P=(0,o.A)({base:!1,"1.75xl":!0}),{0:_,1:z}=((0,o.A)({base:"6",md:"8"}),(0,r.useState)(!1)),B=(0,r.useRef)(null),{0:W,1:j}=(0,r.useState)(300),{colorMode:K}=(0,c.G6)();return(0,r.useEffect)((()=>{const e=()=>{G(window.innerWidth<630)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,r.useEffect)((()=>{const e=e=>{(B.current&&!B.current.contains(e.target)||M.current&&!M.current.contains(e.target))&&z(!1)};return _&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[_]),(0,r.useEffect)((()=>{const e=e=>{if(!B.current)return;const t=B.current;if(t.contains(e.target)){const n=0===t.scrollTop,a=Math.ceil(t.scrollTop+t.clientHeight)>=t.scrollHeight;(n&&e.deltaY<0||a&&e.deltaY>0)&&e.preventDefault()}},t=e=>{if(!B.current)return;const t=B.current;if(t.contains(e.target)){const n=0===t.scrollTop,a=Math.ceil(t.scrollTop+t.clientHeight)>=t.scrollHeight;(n&&e.touches[0].clientY>0||a&&e.touches[0].clientY<0)&&e.preventDefault()}};return _&&(document.addEventListener("wheel",e,{passive:!1}),document.addEventListener("touchmove",t,{passive:!1})),()=>{document.removeEventListener("wheel",e),document.removeEventListener("touchmove",t)}}),[_]),r.createElement(w.A,{tableOfContents:P?null===(i=I.post)||void 0===i?void 0:i.myTableOfContents:void 0},r.createElement(m.s,{direction:"column",width:"100%"},r.createElement(y.A,{readingTime:L.readingTime.text,post:I.post}),!P&&(null===(u=I.post)||void 0===u?void 0:u.myTableOfContents)&&r.createElement(r.Fragment,null,r.createElement(f.P.div,{initial:{right:"0px"},animate:{right:"0px"},transition:{duration:.3},style:{position:"fixed",bottom:S?"40px":"70px",transform:"translateY(-50%)",zIndex:10}},r.createElement(d.K,{"aria-label":"Toggle TOC",borderRadius:"full",size:"lg",right:{base:"12px",sm:"15px",md:"30px"},onClick:()=>z(!_),variant:"ghost",_hover:{bg:"transparent",color:"blue.400"},_focus:{boxShadow:"none",bg:"transparent"},display:_?"none":"block",icon:r.createElement(m.s,{alignItems:"center",justifyContent:"center"},_?r.createElement(r.Fragment,null,r.createElement(g.v,{boxSize:"20px",ml:-1}),r.createElement(s.I,{as:b.hCN,boxSize:"24px",ml:-1})," "):r.createElement(r.Fragment,null,r.createElement(p.Y,{boxSize:"20px",ml:-1}),r.createElement(s.I,{as:b.hCN,boxSize:"24px",ml:-1})," "))})),r.createElement(f.P.div,{initial:{right:"-300px"},animate:{right:_?"0px":"-300px"},transition:{duration:.3},ref:B,style:{position:"fixed",top:0,height:"100vh",width:"300px",maxWidth:"80vw",zIndex:10,overflowY:"auto",overflowX:"hidden"}},r.createElement(h.a,{backgroundColor:"white",boxShadow:"md",position:"relative",height:"100%",width:"300px",_dark:{backgroundColor:"gray.800"}},r.createElement(d.K,{"aria-label":"Close TOC",icon:r.createElement(E.U,null),position:"absolute",top:"10px",right:"10px",onClick:()=>z(!1),size:"sm",backgroundColor:"transparent",color:"black",_dark:{color:"white"}}),r.createElement(h.a,{pt:"60px",pb:"20px",pl:"20px",width:"300px",backgroundColor:"white",_dark:{backgroundColor:"gray.800"}},r.createElement(R.A,{tableOfContents:I.post.myTableOfContents}))))),N.length>1&&r.createElement(v.A,{currentSlug:D,locales:N,currentLocale:T}),r.createElement(h.a,{marginTop:"40px",sx:{img:{borderRadius:"10px"}}},C),r.createElement(k.A,{relatedPosts:I.relatedPosts}),r.createElement(A.A,null),r.createElement(x.A,null)))},L=e=>{var t,n,a,l,i,o,c,m,d,s,h,g,p,E,f,b,x,v,y,w,A;let{data:k}=e;const R=(null===(t=k.post)||void 0===t||null===(n=t.frontmatter)||void 0===n?void 0:n.locale)||"ko",I="ko"===R?(null===(a=k.post)||void 0===a||null===(l=a.frontmatter)||void 0===l?void 0:l.title)+" - Jinsoolve 블로그":(null===(i=k.post)||void 0===i||null===(o=i.frontmatter)||void 0===o?void 0:o.title)+" - Jinsoolve Blog",L=null===(c=k.post)||void 0===c||null===(m=c.frontmatter)||void 0===m?void 0:m.description,N=null===(d=k.post)||void 0===d||null===(s=d.frontmatter)||void 0===s||null===(h=s.thumbnail)||void 0===h||null===(g=h.childImageSharp)||void 0===g?void 0:g.gatsbyImageData,S="ko"===R?"ko_KR":"en_US",G="ko"===R?"개발":"Development";return r.createElement(r.Fragment,null,r.createElement("title",null,I),r.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),r.createElement("meta",{property:"og:url",content:C.V2+"/posts/"+(null===(p=k.post)||void 0===p||null===(E=p.frontmatter)||void 0===E?void 0:E.slug)}),r.createElement("meta",{property:"og:type",content:"website"}),r.createElement("meta",{property:"og:site_name",content:I}),r.createElement("meta",{property:"og:title",content:I}),r.createElement("meta",{property:"og:description",content:L}),r.createElement("meta",{property:"og:image",content:(0,u.d)(N)}),r.createElement("meta",{property:"og:locale",content:S}),r.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),r.createElement("meta",{property:"twitter:domain",content:"jinsoolve.netlify.app"}),r.createElement("meta",{property:"twitter:url",content:C.V2+"/posts/"+(null===(f=k.post)||void 0===f||null===(b=f.frontmatter)||void 0===b?void 0:b.slug)}),r.createElement("meta",{name:"twitter:title",content:I}),r.createElement("meta",{name:"twitter:description",content:L}),r.createElement("meta",{name:"twitter:image",content:(0,u.d)(N)}),r.createElement("meta",{name:"twitter:label1",content:"Category"}),r.createElement("meta",{name:"twitter:data1",content:G+" | "+(null===(x=k.post)||void 0===x||null===(v=x.frontmatter)||void 0===v?void 0:v.categories[0])}),r.createElement("meta",{name:"article:published_time",content:(null===(y=k.post)||void 0===y||null===(w=y.frontmatter)||void 0===w||null===(A=w.createdAt)||void 0===A?void 0:A.replace(/[/]/g,"-"))+"T09:00:00.000Z"}))};function N(e){return r.createElement(I,e,r.createElement(i,e))}},780:function(e,t,n){var a=n(67234),r=n(21052),l=n(58693),i=n(96540);t.A=e=>{let{currentLocale:t,locales:n,currentSlug:o}=e;return i.createElement(a.s,{alignItems:"center",marginTop:10,gap:2},i.createElement(r.E,{fontSize:16,fontWeight:"800",color:"black.900"},"Locales:"),i.createElement(a.s,{overflow:"hidden",width:"100%",gap:2,fontSize:12},n.map((e=>{const n="ko"===e?"/posts/"+o:"/"+e+"/posts/"+o;return e===t?i.createElement(r.E,{key:e,fontSize:16,fontWeight:"600",textDecoration:"underline",color:"black.900"},e):i.createElement(l.Link,{key:e,to:n},i.createElement(r.E,{fontSize:16,color:"black.900"},e))}))))}},95841:function(e,t,n){var a=n(59146),r=n(67234),l=n(85353),i=n(21052),o=n(58693),c=n(32532),m=n(96540),d=n(63840),s=n(96540);t.A=e=>{let{createdAt:t,description:n,slug:h,thumbnail:u,title:g,updatedAt:p,excerpt:E}=e;const f=(0,m.useMemo)((()=>(new Date).getTime()-new Date(t).getTime()),[t]),b=(0,m.useMemo)((()=>Math.floor(f/864e5)<=10),[f]),x=(0,d.dU)("gray.50","#444548"),v=(0,d.dU)("blue.500","blue.400"),y=((0,d.dU)("0 4px 6px rgba(0, 0, 0, 0.3)","0 4px 6px rgba(255, 255, 255, 0.3)"),(0,m.useMemo)((()=>u?"380px":{base:"190px",sm_md:"380px"}),[u]));return s.createElement(o.Link,{to:"/posts/"+h},s.createElement(a.a,{as:"article",transition:"all 0.25s ease",position:"relative",borderRadius:"20px",overflow:"hidden",width:{base:"280px",sm_md:"290px"},minWidth:"205px",maxWidth:"85vw",minHeight:y,height:"100%",boxShadow:"xl",borderWidth:"2px",borderColor:x,_hover:{borderColor:v,boxShadow:"xl",cursor:"pointer"}},s.createElement(c.G,{objectFit:"cover",style:{maxHeight:"171px",height:"45%",width:"100%"},image:u,alt:h+" cover image"}),s.createElement(r.s,{flexDirection:"column",justifyContent:"space-between",height:u?"55%":"100%",padding:"20px"},s.createElement(a.a,null,s.createElement(l.D,{fontSize:"20px",fontWeight:"700",marginBottom:"8px"},g),s.createElement(i.E,{fontSize:"16px",color:"gray.600",noOfLines:2,marginBottom:"10px"},n||E)),s.createElement(r.s,{justifyContent:"space-between",alignItems:"flex-start",marginTop:"10px"},s.createElement(i.E,{fontSize:"14px",color:"gray.500"},p?p+" (updated)":t),s.createElement(a.a,{backgroundColor:"blue.400",color:"white",borderRadius:"12px",padding:"4px 8px",fontSize:"12px",fontWeight:"bold",visibility:b?"visible":"hidden"},"NEW POST")))))}},55135:function(e,t,n){var a=n(63840),r=n(59146),l=n(85353),i=n(32818),o=n(75828),c=n(9e4),m=n(33738),d=n(58693),s=n(12931),h=n(95841),u=n(96540);t.A=e=>{let{relatedPosts:t}=e;const n=null==t?void 0:t.nodes.length,g=null==t?void 0:t.nodes.slice(0,4),p=((0,a.dU)("white","black"),(0,a.dU)("gray.50","#444548")),E=(0,a.dU)("blue.500","blue.400");return u.createElement(r.a,{marginTop:"200px"},n?u.createElement(l.D,{as:"h2",fontSize:24},"관련 포스트가 ",n,"개 있어요."):u.createElement(i.o,{height:"100px",borderRadius:"8px",backgroundColor:"blue.50"},u.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002 0 5.523-4.478 10.001-10.002 10.001-5.524 0-10.002-4.478-10.002-10.001C1.998 6.477 6.476 1.999 12 1.999Zm-.004 8.25a1 1 0 0 0-.992.885l-.007.116.003 5.502.007.117a1 1 0 0 0 1.987-.002L13 16.75l-.003-5.501-.007-.117a1 1 0 0 0-.994-.882ZM12 6.5a1.251 1.251 0 1 0 0 2.503A1.251 1.251 0 0 0 12 6.5Z",fill:"#3182ce"})),u.createElement(l.D,{as:"h2",color:"blue.500",fontSize:20},"관련 포스트가 없어요.")),u.createElement(o.x,{mt:"20px",templateColumns:{sm_md:"repeat(2, 1fr)",lg:"repeat(2, 1fr)"},gap:6,alignItems:"center",justifyContent:"center"},null==g?void 0:g.map((e=>{var t,n,a,r,l,i,o,m,d,s;return u.createElement(c.E,{as:"article",key:null==e||null===(t=e.frontmatter)||void 0===t?void 0:t.slug,display:"flex",alignItems:"center",justifyContent:"center"},u.createElement(h.A,{title:null===(n=e.frontmatter)||void 0===n?void 0:n.title,description:null===(a=e.frontmatter)||void 0===a?void 0:a.description,slug:null===(r=e.frontmatter)||void 0===r?void 0:r.slug,thumbnail:null===(l=e.frontmatter)||void 0===l||null===(i=l.thumbnail)||void 0===i||null===(o=i.childImageSharp)||void 0===o?void 0:o.gatsbyImageData,createdAt:null===(m=e.frontmatter)||void 0===m?void 0:m.createdAt,updatedAt:null===(d=e.frontmatter)||void 0===d?void 0:d.updatedAt,categories:null===(s=e.frontmatter)||void 0===s?void 0:s.categories,excerpt:e.excerpt}))}))),n>6&&u.createElement(i.o,{mt:"20px"},u.createElement(d.Link,{to:"/categories/"+t.nodes[0].frontmatter.categories[0]},u.createElement(r.a,{as:"button",mt:"20px",transition:"all 0.25s ease",padding:"10px 20px",borderRadius:"12px",fontWeight:"bold",boxShadow:"xl",borderWidth:"2px",borderColor:p,_hover:{borderColor:E,boxShadow:"xl",cursor:"pointer"},display:"flex",alignItems:"center"},"더 많은 관련 포스트 보러가기",u.createElement(m.I,{as:s.v,ml:2,w:5,h:5})))))}},92072:function(e,t,n){n.d(t,{Y:function(){return a}});const a=(0,n(37513).w)({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"})},12931:function(e,t,n){n.d(t,{v:function(){return a}});const a=(0,n(37513).w)({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"})},9e4:function(e,t,n){n.d(t,{E:function(){return m}});var a=n(74848),r=n(77341),l=n(5090),i=n(12600),o=n(53785);function c(e){return(0,r.bk)(e,(e=>"auto"===e?"auto":`span ${e}/span ${e}`))}const m=(0,i.R)((function(e,t){const{area:n,colSpan:r,colStart:i,colEnd:m,rowEnd:d,rowSpan:s,rowStart:h,...u}=e,g=(0,l.o)({gridArea:n,gridColumn:c(r),gridRow:c(s),gridColumnStart:i,gridColumnEnd:m,gridRowStart:h,gridRowEnd:d});return(0,a.jsx)(o.B.div,{ref:t,__css:g,...u})}));m.displayName="GridItem"},75828:function(e,t,n){n.d(t,{x:function(){return i}});var a=n(74848),r=n(12600),l=n(53785);const i=(0,r.R)((function(e,t){const{templateAreas:n,gap:r,rowGap:i,columnGap:o,column:c,row:m,autoFlow:d,autoRows:s,templateRows:h,autoColumns:u,templateColumns:g,...p}=e,E={display:"grid",gridTemplateAreas:n,gridGap:r,gridRowGap:i,gridColumnGap:o,gridAutoColumns:u,gridColumn:c,gridRow:m,gridAutoFlow:d,gridAutoRows:s,gridTemplateRows:h,gridTemplateColumns:g};return(0,a.jsx)(l.B.div,{ref:t,__css:E,...p})}));i.displayName="Grid"}}]);
//# sourceMappingURL=component---src-templates-post-page-tsx-content-file-path-users-jinsoo-git-jinsoolve-blog-content-paper-poisoned-rag-untitled-md-6072e6177022846168fd.js.map