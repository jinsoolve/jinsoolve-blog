"use strict";(self.webpackChunkjinsoolve_blog=self.webpackChunkjinsoolve_blog||[]).push([[2723],{61083:function(e,t,n){n.r(t),n.d(t,{Head:function(){return T},default:function(){return L}});var r=n(28453),o=n(96540);function a(e){const t=Object.assign({h1:"h1",a:"a",span:"span",h2:"h2",p:"p",code:"code",br:"br",pre:"pre"},(0,r.RP)(),e.components);return o.createElement(o.Fragment,null,o.createElement(t.h1,{id:"my-heading-1"},o.createElement(t.a,{href:"https://www.acmicpc.net/problem/17407"},"백준 17407 - 괄호 문자열과 쿼리"),o.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-1"},o.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",o.createElement(t.h2,{id:"my-heading-2"},"풀이",o.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-2"},o.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",o.createElement(t.p,null,o.createElement(t.code,null,"("),"을 +1, ",o.createElement(t.code,null,")"),"을 -1로 한 다음 누적합을 먼저 계산한다.",o.createElement(t.br),"\n","이 누적합에 대한 lazy segment tree를 만든다."),"\n",o.createElement(t.p,null,"만약 x번째 문자를 ",o.createElement(t.code,null,"("),"에서 ",o.createElement(t.code,null,")"),"으로 바꾼다면 x ~ n번째(전체 문자길이가 n일 때) 문자까지 누적합을 전부 -2를 시켜주면 되고 그 반대의 경우는 +2를 시켜주면 된다. 위 내용은 구간 업데이트로 lazy update를 사용한다."),"\n",o.createElement(t.p,null,"문자를 변경했을 때 전체 괄호 누적합의 min이 0보다 크거나 같아야 하고, 전체 누적합의 결과가 0이면 해당 문자열은 올바른 괄호 문자열이다.",o.createElement(t.br),"\n","즉, 누적합의 lazy seg에서 전체의 min이 0보다 크거나 같고, 마지막 누적합의 값이 0이기만 하면 된다."),"\n",o.createElement(t.h2,{id:"my-heading-3"},"코드",o.createElement(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-heading-3"},o.createElement(t.span,{className:"heading-anchor-icon"},"#"))),"\n",o.createElement(t.pre,null,o.createElement(t.code,{className:"language-cpp"},"#include <bits/stdc++.h>\n\n#define endl \"\\n\"\n#define all(v) (v).begin(), (v).end()\n#define For(i, a, b) for(int i=(a); i<(b); i++)\n#define FOR(i, a, b) for(int i=(a); i<=(b); i++)\n#define Bor(i, a, b) for(int i=(a)-1; i>=(b); i--)\n#define BOR(i, a, b) for(int i=(a); i>=(b); i--)\n#define ft first\n#define sd second\n\nusing namespace std;\nusing ll = long long;\nusing lll = __int128_t;\nusing ulll = __uint128_t;\nusing ull = unsigned long long;\nusing ld = long double;\nusing pii = pair<int, int>;\nusing pll = pair<ll, ll>;\nusing ti3 = tuple<int, int, int>;\nusing tl3 = tuple<ll, ll, ll>;\n\ntemplate<typename T> using ve = vector<T>;\ntemplate<typename T> using vve = vector<vector<T>>;\n\ntemplate<class T> bool ckmin(T& a, const T& b) { return b < a ? a = b, 1 : 0; }\ntemplate<class T> bool ckmax(T& a, const T& b) { return a < b ? a = b, 1 : 0; }\n\nconst int INF = 987654321;\nconst int INF0 = numeric_limits<int>::max();\nconst ll LNF = 987654321987654321;\nconst ll LNF0 = numeric_limits<ll>::max();\n\nstruct Lazy {\n    ll val, a, b; // a * val + b\n};\n\nclass LazySegment {\npublic:\n    vector<Lazy> tree; //tree[node] := a[start ~ end] 의 합\n\n    LazySegment() {}\n    LazySegment(int size) {\n        this->resize(size);\n    }\n    void resize(int size) {\n        size = (int) floor(log2(size)) + 2;\n        size = pow(2, size);\n        tree.resize(size, {0,1, 0});\n    }\n    ll init(vector<ll> &a, int node, int start, int end) {\n        if(start == end) return tree[node].val = a[start];\n        return tree[node].val = min(init(a, 2*node, start, (start+end)/2), init(a, 2*node+1, (start+end)/2+1, end));\n    }\n    void update_lazy(int node, int start, int end) {\n        if(tree[node].a == 1 && tree[node].b == 0) return;\n        tree[node].val = (tree[node].a*tree[node].val + tree[node].b);\n        if(start != end) {\n            for(auto i : {2*node, 2*node+1}) {\n                tree[i].a = (tree[node].a * tree[i].a);\n                tree[i].b = (tree[node].a * tree[i].b + tree[node].b);\n            }\n        }\n        tree[node].a = 1, tree[node].b = 0;\n    }\n    void update(int node, int start, int end, int left, int right, ll a, ll b) {\n        update_lazy(node, start, end);\n        if(right < start || end < left) return;\n        if(left <= start && end <= right) {\n            tree[node].a = (tree[node].a * a);\n            tree[node].b = (tree[node].b + b);\n            update_lazy(node, start, end);\n            return;\n        }\n        update(node * 2, start, (start + end) / 2, left, right, a, b);\n        update(node * 2 + 1, (start + end) / 2 + 1, end, left, right, a, b);\n        tree[node].val = min(tree[2*node].val, tree[2*node+1].val);\n    }\n    ll query(int node, int start, int end, int left, int right) {\n        update_lazy(node, start, end);\n        if(right < start || end < left) return INF;\n        if(left <= start && end <= right) return tree[node].val;\n        return min(query(node * 2, start, (start + end) / 2, left, right),\n                   query(node * 2 + 1, (start + end) / 2 + 1, end, left, right));\n    }\n};\n\nvoid solve() {\n    string s; cin >> s;\n    int n = s.length();\n    LazySegment seg(n);\n    vector<ll> a(n+1);\n    a[0] = 0;\n    FOR(i,1,n) {\n        a[i] = a[i-1] + (s[i-1] == '(' ? 1 : -1);\n    }\n    seg.init(a,1,1,n);\n\n    int m; cin >> m;\n    int ans = 0;\n    while(m--) {\n        int x; cin >> x;\n        if(s[x-1] == '(') {\n            s[x-1] = ')';\n            seg.update(1,1,n,x,n,1,-2);\n        }\n        else {\n            s[x-1] = '(';\n            seg.update(1,1,n,x,n,1,2);\n        }\n        if(seg.query(1,1,n,1,n) == 0 and seg.query(1,1,n,n,n) == 0) ans++;\n    }\n    cout << ans << endl;\n}\n\nint main(void) {\n    ios_base::sync_with_stdio(false);\n    cin.tie(nullptr);\n    cout.tie(nullptr);\n\n    int TC=1;\n//    cin >> TC;\n    FOR(tc, 1, TC) {\n//        cout << \"Case #\" << tc << \": \";\n        solve();\n    }\n\n\n    return 0;\n}\n")))}var l=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,r.RP)(),e.components);return t?o.createElement(t,e,o.createElement(a,e)):a(e)},i=n(54183),d=n(63840),s=n(67234),c=n(74196),m=n(33738),u=n(59146),p=n(32532),g=n(12931),v=n(92072),f=n(13626),h=n(39315),b=n(59879),E=n(68743),x=n(780),w=n(82228),y=n(66505),C=n(47722),z=n(55135),k=n(73992),S=n(80795);const _=e=>{var t,n,r,a,l,p;let{children:S,data:_,pageContext:T}=e;const L=_.otherLocalePost.nodes.map((e=>{var t;return(null===(t=e.frontmatter)||void 0===t?void 0:t.locale)||"ko"})),{0:A,1:R}=(0,o.useState)(!1),I=(0,o.useRef)(null),F=(null===(t=_.post)||void 0===t||null===(n=t.frontmatter)||void 0===n?void 0:n.locale)||"ko",N=null===(r=_.post)||void 0===r||null===(a=r.frontmatter)||void 0===a?void 0:a.slug,O=(0,i.A)({base:!1,"1.75xl":!0}),{0:j,1:D}=((0,i.A)({base:"6",md:"8"}),(0,o.useState)(!1)),W=(0,o.useRef)(null),{0:M,1:G}=(0,o.useState)(300),{colorMode:P}=(0,d.G6)();return(0,o.useEffect)((()=>{const e=()=>{R(window.innerWidth<630)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,o.useEffect)((()=>{const e=e=>{(W.current&&!W.current.contains(e.target)||I.current&&!I.current.contains(e.target))&&D(!1)};return j&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[j]),(0,o.useEffect)((()=>{const e=e=>{if(!W.current)return;const t=W.current;if(t.contains(e.target)){const n=0===t.scrollTop,r=Math.ceil(t.scrollTop+t.clientHeight)>=t.scrollHeight;(n&&e.deltaY<0||r&&e.deltaY>0)&&e.preventDefault()}},t=e=>{if(!W.current)return;const t=W.current;if(t.contains(e.target)){const n=0===t.scrollTop,r=Math.ceil(t.scrollTop+t.clientHeight)>=t.scrollHeight;(n&&e.touches[0].clientY>0||r&&e.touches[0].clientY<0)&&e.preventDefault()}};return j&&(document.addEventListener("wheel",e,{passive:!1}),document.addEventListener("touchmove",t,{passive:!1})),()=>{document.removeEventListener("wheel",e),document.removeEventListener("touchmove",t)}}),[j]),o.createElement(y.A,{tableOfContents:O?null===(l=_.post)||void 0===l?void 0:l.myTableOfContents:void 0},o.createElement(s.s,{direction:"column",width:"100%"},o.createElement(w.A,{readingTime:T.readingTime.text,post:_.post}),!O&&(null===(p=_.post)||void 0===p?void 0:p.myTableOfContents)&&o.createElement(o.Fragment,null,o.createElement(h.P.div,{initial:{right:"0px"},animate:{right:"0px"},transition:{duration:.3},style:{position:"fixed",bottom:A?"40px":"70px",transform:"translateY(-50%)",zIndex:10}},o.createElement(c.K,{"aria-label":"Toggle TOC",borderRadius:"full",size:"lg",right:{base:"12px",sm:"15px",md:"30px"},onClick:()=>D(!j),variant:"ghost",_hover:{bg:"transparent",color:"blue.400"},_focus:{boxShadow:"none",bg:"transparent"},display:j?"none":"block",icon:o.createElement(s.s,{alignItems:"center",justifyContent:"center"},j?o.createElement(o.Fragment,null,o.createElement(g.v,{boxSize:"20px",ml:-1}),o.createElement(m.I,{as:b.hCN,boxSize:"24px",ml:-1})," "):o.createElement(o.Fragment,null,o.createElement(v.Y,{boxSize:"20px",ml:-1}),o.createElement(m.I,{as:b.hCN,boxSize:"24px",ml:-1})," "))})),o.createElement(h.P.div,{initial:{right:"-300px"},animate:{right:j?"0px":"-300px"},transition:{duration:.3},ref:W,style:{position:"fixed",top:0,height:"100vh",width:"300px",maxWidth:"80vw",zIndex:10,overflowY:"auto",overflowX:"hidden"}},o.createElement(u.a,{backgroundColor:"white",boxShadow:"md",position:"relative",height:"100%",width:"300px",_dark:{backgroundColor:"gray.800"}},o.createElement(c.K,{"aria-label":"Close TOC",icon:o.createElement(f.U,null),position:"absolute",top:"10px",right:"10px",onClick:()=>D(!1),size:"sm",backgroundColor:"transparent",color:"black",_dark:{color:"white"}}),o.createElement(u.a,{pt:"60px",pb:"20px",pl:"20px",width:"300px",backgroundColor:"white",_dark:{backgroundColor:"gray.800"}},o.createElement(k.A,{tableOfContents:_.post.myTableOfContents}))))),L.length>1&&o.createElement(x.A,{currentSlug:N,locales:L,currentLocale:F}),o.createElement(u.a,{marginTop:"40px",sx:{img:{borderRadius:"10px"}}},S),o.createElement(z.A,{relatedPosts:_.relatedPosts}),o.createElement(C.A,null),o.createElement(E.A,null)))},T=e=>{var t,n,r,a,l,i,d,s,c,m,u,g,v,f,h,b,E,x,w,y,C;let{data:z}=e;const k=(null===(t=z.post)||void 0===t||null===(n=t.frontmatter)||void 0===n?void 0:n.locale)||"ko",_="ko"===k?(null===(r=z.post)||void 0===r||null===(a=r.frontmatter)||void 0===a?void 0:a.title)+" - Jinsoolve 블로그":(null===(l=z.post)||void 0===l||null===(i=l.frontmatter)||void 0===i?void 0:i.title)+" - Jinsoolve Blog",T=null===(d=z.post)||void 0===d||null===(s=d.frontmatter)||void 0===s?void 0:s.description,L=null===(c=z.post)||void 0===c||null===(m=c.frontmatter)||void 0===m||null===(u=m.thumbnail)||void 0===u||null===(g=u.childImageSharp)||void 0===g?void 0:g.gatsbyImageData,A="ko"===k?"ko_KR":"en_US",R="ko"===k?"개발":"Development";return o.createElement(o.Fragment,null,o.createElement("title",null,_),o.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),o.createElement("meta",{property:"og:url",content:S.V2+"/posts/"+(null===(v=z.post)||void 0===v||null===(f=v.frontmatter)||void 0===f?void 0:f.slug)}),o.createElement("meta",{property:"og:type",content:"website"}),o.createElement("meta",{property:"og:site_name",content:_}),o.createElement("meta",{property:"og:title",content:_}),o.createElement("meta",{property:"og:description",content:T}),o.createElement("meta",{property:"og:image",content:(0,p.d)(L)}),o.createElement("meta",{property:"og:locale",content:A}),o.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),o.createElement("meta",{property:"twitter:domain",content:"jinsoolve.netlify.app"}),o.createElement("meta",{property:"twitter:url",content:S.V2+"/posts/"+(null===(h=z.post)||void 0===h||null===(b=h.frontmatter)||void 0===b?void 0:b.slug)}),o.createElement("meta",{name:"twitter:title",content:_}),o.createElement("meta",{name:"twitter:description",content:T}),o.createElement("meta",{name:"twitter:image",content:(0,p.d)(L)}),o.createElement("meta",{name:"twitter:label1",content:"Category"}),o.createElement("meta",{name:"twitter:data1",content:R+" | "+(null===(E=z.post)||void 0===E||null===(x=E.frontmatter)||void 0===x?void 0:x.categories[0])}),o.createElement("meta",{name:"article:published_time",content:(null===(w=z.post)||void 0===w||null===(y=w.frontmatter)||void 0===y||null===(C=y.createdAt)||void 0===C?void 0:C.replace(/[/]/g,"-"))+"T09:00:00.000Z"}))};function L(e){return o.createElement(_,e,o.createElement(l,e))}},780:function(e,t,n){var r=n(67234),o=n(21052),a=n(58693),l=n(96540);t.A=e=>{let{currentLocale:t,locales:n,currentSlug:i}=e;return l.createElement(r.s,{alignItems:"center",marginTop:10,gap:2},l.createElement(o.E,{fontSize:16,fontWeight:"800",color:"black.900"},"Locales:"),l.createElement(r.s,{overflow:"hidden",width:"100%",gap:2,fontSize:12},n.map((e=>{const n="ko"===e?"/posts/"+i:"/"+e+"/posts/"+i;return e===t?l.createElement(o.E,{key:e,fontSize:16,fontWeight:"600",textDecoration:"underline",color:"black.900"},e):l.createElement(a.Link,{key:e,to:n},l.createElement(o.E,{fontSize:16,color:"black.900"},e))}))))}},95841:function(e,t,n){var r=n(59146),o=n(67234),a=n(85353),l=n(21052),i=n(58693),d=n(32532),s=n(96540),c=n(63840),m=n(96540);t.A=e=>{let{createdAt:t,description:n,slug:u,thumbnail:p,title:g,updatedAt:v,excerpt:f}=e;const h=(0,s.useMemo)((()=>(new Date).getTime()-new Date(t).getTime()),[t]),b=(0,s.useMemo)((()=>Math.floor(h/864e5)<=10),[h]),E=(0,c.dU)("gray.50","#444548"),x=(0,c.dU)("blue.500","blue.400"),w=((0,c.dU)("0 4px 6px rgba(0, 0, 0, 0.3)","0 4px 6px rgba(255, 255, 255, 0.3)"),(0,s.useMemo)((()=>p?"380px":{base:"190px",sm_md:"380px"}),[p]));return m.createElement(i.Link,{to:"/posts/"+u},m.createElement(r.a,{as:"article",transition:"all 0.25s ease",position:"relative",borderRadius:"20px",overflow:"hidden",width:{base:"280px",sm_md:"290px"},minWidth:"205px",maxWidth:"85vw",minHeight:w,height:"100%",boxShadow:"xl",borderWidth:"2px",borderColor:E,_hover:{borderColor:x,boxShadow:"xl",cursor:"pointer"}},m.createElement(d.G,{objectFit:"cover",style:{maxHeight:"171px",height:"45%",width:"100%"},image:p,alt:u+" cover image"}),m.createElement(o.s,{flexDirection:"column",justifyContent:"space-between",height:p?"55%":"100%",padding:"20px"},m.createElement(r.a,null,m.createElement(a.D,{fontSize:"20px",fontWeight:"700",marginBottom:"8px"},g),m.createElement(l.E,{fontSize:"16px",color:"gray.600",noOfLines:2,marginBottom:"10px"},n||f)),m.createElement(o.s,{justifyContent:"space-between",alignItems:"flex-start",marginTop:"10px"},m.createElement(l.E,{fontSize:"14px",color:"gray.500"},v?v+" (updated)":t),m.createElement(r.a,{backgroundColor:"blue.400",color:"white",borderRadius:"12px",padding:"4px 8px",fontSize:"12px",fontWeight:"bold",visibility:b?"visible":"hidden"},"NEW POST")))))}},55135:function(e,t,n){var r=n(63840),o=n(59146),a=n(85353),l=n(32818),i=n(75828),d=n(9e4),s=n(33738),c=n(58693),m=n(12931),u=n(95841),p=n(96540);t.A=e=>{let{relatedPosts:t}=e;const n=null==t?void 0:t.nodes.length,g=null==t?void 0:t.nodes.slice(0,4),v=((0,r.dU)("white","black"),(0,r.dU)("gray.50","#444548")),f=(0,r.dU)("blue.500","blue.400");return p.createElement(o.a,{marginTop:"200px"},n?p.createElement(a.D,{as:"h2",fontSize:24},"관련 포스트가 ",n,"개 있어요."):p.createElement(l.o,{height:"100px",borderRadius:"8px",backgroundColor:"blue.50"},p.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002 0 5.523-4.478 10.001-10.002 10.001-5.524 0-10.002-4.478-10.002-10.001C1.998 6.477 6.476 1.999 12 1.999Zm-.004 8.25a1 1 0 0 0-.992.885l-.007.116.003 5.502.007.117a1 1 0 0 0 1.987-.002L13 16.75l-.003-5.501-.007-.117a1 1 0 0 0-.994-.882ZM12 6.5a1.251 1.251 0 1 0 0 2.503A1.251 1.251 0 0 0 12 6.5Z",fill:"#3182ce"})),p.createElement(a.D,{as:"h2",color:"blue.500",fontSize:20},"관련 포스트가 없어요.")),p.createElement(i.x,{mt:"20px",templateColumns:{sm_md:"repeat(2, 1fr)",lg:"repeat(2, 1fr)"},gap:6,alignItems:"center",justifyContent:"center"},null==g?void 0:g.map((e=>{var t,n,r,o,a,l,i,s,c,m;return p.createElement(d.E,{as:"article",key:null==e||null===(t=e.frontmatter)||void 0===t?void 0:t.slug,display:"flex",alignItems:"center",justifyContent:"center"},p.createElement(u.A,{title:null===(n=e.frontmatter)||void 0===n?void 0:n.title,description:null===(r=e.frontmatter)||void 0===r?void 0:r.description,slug:null===(o=e.frontmatter)||void 0===o?void 0:o.slug,thumbnail:null===(a=e.frontmatter)||void 0===a||null===(l=a.thumbnail)||void 0===l||null===(i=l.childImageSharp)||void 0===i?void 0:i.gatsbyImageData,createdAt:null===(s=e.frontmatter)||void 0===s?void 0:s.createdAt,updatedAt:null===(c=e.frontmatter)||void 0===c?void 0:c.updatedAt,categories:null===(m=e.frontmatter)||void 0===m?void 0:m.categories,excerpt:e.excerpt}))}))),n>6&&p.createElement(l.o,{mt:"20px"},p.createElement(c.Link,{to:"/categories/"+t.nodes[0].frontmatter.categories[0]},p.createElement(o.a,{as:"button",mt:"20px",transition:"all 0.25s ease",padding:"10px 20px",borderRadius:"12px",fontWeight:"bold",boxShadow:"xl",borderWidth:"2px",borderColor:v,_hover:{borderColor:f,boxShadow:"xl",cursor:"pointer"},display:"flex",alignItems:"center"},"더 많은 관련 포스트 보러가기",p.createElement(s.I,{as:m.v,ml:2,w:5,h:5})))))}},92072:function(e,t,n){n.d(t,{Y:function(){return r}});const r=(0,n(37513).w)({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"})},12931:function(e,t,n){n.d(t,{v:function(){return r}});const r=(0,n(37513).w)({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"})},9e4:function(e,t,n){n.d(t,{E:function(){return s}});var r=n(74848),o=n(77341),a=n(5090),l=n(12600),i=n(53785);function d(e){return(0,o.bk)(e,(e=>"auto"===e?"auto":`span ${e}/span ${e}`))}const s=(0,l.R)((function(e,t){const{area:n,colSpan:o,colStart:l,colEnd:s,rowEnd:c,rowSpan:m,rowStart:u,...p}=e,g=(0,a.o)({gridArea:n,gridColumn:d(o),gridRow:d(m),gridColumnStart:l,gridColumnEnd:s,gridRowStart:u,gridRowEnd:c});return(0,r.jsx)(i.B.div,{ref:t,__css:g,...p})}));s.displayName="GridItem"},75828:function(e,t,n){n.d(t,{x:function(){return l}});var r=n(74848),o=n(12600),a=n(53785);const l=(0,o.R)((function(e,t){const{templateAreas:n,gap:o,rowGap:l,columnGap:i,column:d,row:s,autoFlow:c,autoRows:m,templateRows:u,autoColumns:p,templateColumns:g,...v}=e,f={display:"grid",gridTemplateAreas:n,gridGap:o,gridRowGap:l,gridColumnGap:i,gridAutoColumns:p,gridColumn:d,gridRow:s,gridAutoFlow:c,gridAutoRows:m,gridTemplateRows:u,gridTemplateColumns:g};return(0,r.jsx)(a.B.div,{ref:t,__css:f,...v})}));l.displayName="Grid"}}]);
//# sourceMappingURL=component---src-templates-post-page-tsx-content-file-path-users-jinsoo-git-jinsoolve-blog-content-ps-boj-17407-content-mdx-7888844c3da084123fbc.js.map